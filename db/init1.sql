-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 31-07-2025 a las 19:54:43
-- Versión del servidor: 10.4.32-MariaDB
-- Versión de PHP: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `ventasaceite`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `actividad_envasado`
--

CREATE TABLE `actividad_envasado` (
  `id_actividad_envasado` int(11) NOT NULL,
  `fecha_envasado` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `actividad_envasado`
--

INSERT INTO `actividad_envasado` (`id_actividad_envasado`, `fecha_envasado`) VALUES
(9, '2025-07-11'),
(10, '2025-07-11'),
(11, '2025-07-12'),
(12, '2025-07-12'),
(13, '2025-07-12'),
(14, '2025-07-12'),
(15, '2025-07-13'),
(16, '2025-07-19'),
(17, '2025-07-19'),
(18, '2025-07-19'),
(19, '2025-07-19'),
(20, '2025-07-19'),
(21, '2025-07-19'),
(22, '2025-07-19'),
(23, '2025-07-19'),
(24, '2025-07-20'),
(25, '2025-07-20');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `articulos`
--

CREATE TABLE `articulos` (
  `id_articulo` int(11) NOT NULL,
  `nombre_articulo` varchar(100) NOT NULL,
  `descripcion` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `articulos`
--

INSERT INTO `articulos` (`id_articulo`, `nombre_articulo`, `descripcion`) VALUES
(1, 'Aceite de Oliva Virgen', 'AOV'),
(2, 'Aceite de Oliva Virgen Extra', 'AOVE'),
(3, 'Aceite de Oliva', 'AO'),
(4, 'Aceite de Orujo de Oliva', 'AOO');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `asignacion_lotes_ventas`
--

CREATE TABLE `asignacion_lotes_ventas` (
  `id_asignacion` int(11) NOT NULL,
  `id_detalle_factura` int(11) NOT NULL,
  `id_detalle_actividad` int(11) NOT NULL,
  `unidades_asignadas` int(11) NOT NULL,
  `fecha_asignacion` datetime DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `asignacion_lotes_ventas`
--

INSERT INTO `asignacion_lotes_ventas` (`id_asignacion`, `id_detalle_factura`, `id_detalle_actividad`, `unidades_asignadas`, `fecha_asignacion`) VALUES
(4, 5, 17, 5, '2025-07-12 06:25:44'),
(5, 6, 19, 20, '2025-07-12 06:27:12'),
(6, 7, 19, 1, '2025-07-12 06:32:13'),
(7, 8, 19, 10, '2025-07-12 06:34:38'),
(8, 9, 19, 10, '2025-07-12 06:36:17'),
(14, 15, 19, 4, '2025-07-12 06:58:17'),
(19, 33, 23, 67, '2025-07-12 20:23:10'),
(20, 29, 23, 10, '2025-07-12 20:28:54'),
(21, 34, 26, 100, '2025-07-12 20:34:45'),
(22, 35, 24, 77, '2025-07-13 08:07:45'),
(23, 37, 17, 85, '2025-07-13 08:29:29'),
(24, 31, 16, 10, '2025-07-13 08:34:44'),
(25, 26, 24, 10, '2025-07-13 08:35:33'),
(26, 36, 29, 180, '2025-07-13 09:03:00'),
(27, 32, 18, 10, '2025-07-13 09:03:29'),
(28, 30, 16, 10, '2025-07-13 09:04:01'),
(29, 38, 24, 1, '2025-07-13 09:05:02'),
(30, 41, 16, 10, '2025-07-13 10:30:36'),
(31, 40, 16, 10, '2025-07-13 10:32:06'),
(32, 42, 17, 5, '2025-07-13 10:46:45'),
(33, 39, 16, 10, '2025-07-13 10:47:14'),
(34, 25, 23, 10, '2025-07-13 10:58:49'),
(35, 16, 18, 10, '2025-07-13 10:59:10'),
(36, 18, 22, 10, '2025-07-13 10:59:18'),
(37, 17, 17, 5, '2025-07-13 10:59:27'),
(38, 17, 28, 5, '2025-07-13 10:59:34'),
(39, 19, 21, 10, '2025-07-13 10:59:40'),
(40, 20, 23, 10, '2025-07-13 10:59:48'),
(41, 21, 24, 9, '2025-07-13 10:59:53'),
(42, 21, 27, 1, '2025-07-13 11:00:00'),
(43, 43, 18, 80, '2025-07-14 19:21:52'),
(44, 43, 20, 20, '2025-07-14 19:21:58'),
(45, 44, 20, 80, '2025-07-14 19:23:05'),
(46, 44, 29, 20, '2025-07-14 19:23:11'),
(47, 45, 22, 2, '2025-07-14 21:34:05'),
(48, 46, 28, 2, '2025-07-14 21:35:02'),
(49, 47, 27, 2, '2025-07-14 21:35:42'),
(50, 48, 28, 10, '2025-07-14 22:22:18'),
(51, 49, 27, 1, '2025-07-14 22:24:15'),
(52, 50, 22, 10, '2025-07-14 22:24:41'),
(53, 51, 27, 10, '2025-07-14 22:25:39'),
(54, 52, 28, 10, '2025-07-15 22:57:35'),
(55, 53, 16, 10, '2025-07-15 23:00:52'),
(56, 54, 22, 5, '2025-07-16 19:38:53'),
(57, 55, 22, 10, '2025-07-16 19:48:34'),
(58, 56, 22, 10, '2025-07-16 19:49:03'),
(59, 57, 19, 10, '2025-07-16 20:23:30'),
(60, 58, 19, 10, '2025-07-16 20:23:50'),
(62, 60, 19, 10, '2025-07-17 17:09:15'),
(63, 61, 24, 1, '2025-07-18 16:32:40'),
(64, 62, 28, 10, '2025-07-18 18:37:45'),
(65, 63, 19, 1, '2025-07-18 19:12:42'),
(66, 64, 28, 1, '2025-07-18 19:17:47'),
(67, 65, 16, 2, '2025-07-18 19:32:16'),
(68, 66, 24, 1, '2025-07-18 19:52:46'),
(69, 70, 28, 2, '2025-07-18 20:22:04'),
(70, 71, 28, 1, '2025-07-18 20:24:29'),
(71, 69, 16, 10, '2025-07-18 20:25:52'),
(72, 75, 24, 1, '2025-07-18 21:04:19'),
(73, 75, 27, 1, '2025-07-18 21:04:32'),
(74, 76, 19, 1, '2025-07-19 06:47:43'),
(75, 77, 28, 10, '2025-07-19 06:50:58'),
(76, 74, 28, 2, '2025-07-19 06:58:52'),
(77, 78, 27, 2, '2025-07-19 07:01:43'),
(78, 79, 19, 3, '2025-07-19 07:02:50'),
(79, 73, 22, 53, '2025-07-19 07:23:16'),
(80, 80, 28, 10, '2025-07-19 07:34:15'),
(81, 81, 28, 1, '2025-07-19 07:56:12'),
(82, 82, 28, 10, '2025-07-19 08:39:35'),
(83, 83, 28, 10, '2025-07-19 08:43:49'),
(84, 84, 16, 10, '2025-07-19 08:56:55'),
(85, 85, 31, 10, '2025-07-19 08:57:03'),
(86, 86, 21, 90, '2025-07-19 09:13:12'),
(87, 86, 30, 100, '2025-07-19 09:13:18'),
(88, 87, 32, 100, '2025-07-19 09:27:43'),
(89, 89, 34, 100, '2025-07-19 09:59:50'),
(90, 90, 33, 100, '2025-07-19 10:18:46'),
(91, 92, 27, 2, '2025-07-19 10:41:59'),
(92, 96, 31, 1, '2025-07-19 11:27:34'),
(93, 98, 36, 1, '2025-07-19 11:29:25'),
(94, 99, 35, 10, '2025-07-19 11:31:39'),
(95, 101, 37, 8, '2025-07-19 11:50:21'),
(96, 103, 37, 2, '2025-07-19 11:55:01'),
(97, 104, 28, 10, '2025-07-19 12:12:35'),
(98, 91, 27, 10, '2025-07-19 19:37:13'),
(99, 105, 31, 101, '2025-07-19 19:40:24'),
(100, 106, 38, 10, '2025-07-19 19:49:17'),
(101, 106, 36, 9, '2025-07-19 19:49:26'),
(102, 107, 39, 10, '2025-07-19 20:21:19'),
(103, 108, 40, 10, '2025-07-19 20:23:20'),
(104, 109, 40, 20, '2025-07-19 20:24:08'),
(105, 110, 40, 10, '2025-07-19 20:25:01'),
(106, 111, 41, 1, '2025-07-19 20:25:53'),
(107, 112, 40, 3, '2025-07-19 20:26:56'),
(108, 113, 41, 9, '2025-07-19 20:28:04'),
(109, 114, 42, 1, '2025-07-19 20:30:43'),
(110, 115, 42, 2, '2025-07-19 20:31:24'),
(111, 116, 42, 2, '2025-07-19 20:32:01'),
(112, 117, 31, 10, '2025-07-19 20:37:57'),
(113, 97, 31, 1, '2025-07-19 20:38:22'),
(114, 118, 44, 1, '2025-07-20 09:21:02'),
(115, 119, 19, 3, '2025-07-20 09:23:14'),
(116, 120, 42, 2, '2025-07-20 09:23:47'),
(117, 124, 43, 2, '2025-07-20 09:49:19'),
(118, 125, 16, 10, '2025-07-20 09:49:26'),
(119, 126, 44, 4, '2025-07-20 09:50:32'),
(120, 127, 43, 4, '2025-07-20 09:50:55'),
(121, 128, 28, 2, '2025-07-20 10:17:05'),
(122, 129, 43, 10, '2025-07-20 10:25:22'),
(123, 130, 27, 1, '2025-07-20 10:29:43'),
(124, 131, 43, 10, '2025-07-20 10:32:37'),
(125, 132, 43, 7, '2025-07-20 10:33:00'),
(126, 133, 28, 2, '2025-07-20 10:37:38'),
(127, 134, 43, 10, '2025-07-20 10:39:32'),
(128, 135, 43, 2, '2025-07-20 10:48:05'),
(129, 136, 28, 10, '2025-07-20 10:49:13'),
(130, 137, 19, 10, '2025-07-20 10:50:14'),
(131, 123, 43, 7, '2025-07-20 10:52:31'),
(132, 122, 28, 12, '2025-07-20 10:55:02'),
(133, 121, 43, 2, '2025-07-20 10:55:38'),
(134, 138, 27, 2, '2025-07-20 11:20:42'),
(135, 139, 31, 100, '2025-07-20 11:20:48'),
(136, 140, 43, 1, '2025-07-20 11:47:23'),
(137, 141, 28, 10, '2025-07-20 11:47:54'),
(138, 142, 31, 2, '2025-07-20 11:49:02'),
(139, 143, 28, 10, '2025-07-20 11:49:40'),
(140, 144, 27, 2, '2025-07-20 11:50:01'),
(141, 145, 16, 10, '2025-07-20 11:50:54'),
(142, 146, 31, 2, '2025-07-20 11:51:30'),
(143, 147, 19, 10, '2025-07-20 11:55:34'),
(144, 148, 16, 10, '2025-07-20 11:56:30'),
(145, 149, 28, 5, '2025-07-20 12:02:30'),
(146, 150, 31, 12, '2025-07-20 12:06:13'),
(147, 151, 27, 3, '2025-07-20 17:08:50'),
(148, 152, 44, 1, '2025-07-20 22:02:26'),
(149, 154, 27, 2, '2025-07-20 22:21:34'),
(150, 155, 31, 1, '2025-07-20 22:22:59'),
(151, 156, 27, 2, '2025-07-21 21:23:10'),
(152, 157, 16, 2, '2025-07-21 21:23:26'),
(153, 158, 16, 10, '2025-07-21 21:23:41'),
(154, 153, 43, 2, '2025-07-21 21:26:13'),
(155, 159, 43, 10, '2025-07-21 21:39:56'),
(156, 160, 27, 10, '2025-07-22 17:08:23'),
(157, 161, 28, 10, '2025-07-22 17:08:45'),
(158, 162, 27, 2, '2025-07-22 17:10:43'),
(159, 163, 19, 10, '2025-07-22 17:10:49'),
(160, 164, 42, 4, '2025-07-22 17:11:09'),
(161, 164, 40, 1, '2025-07-22 17:11:17'),
(162, 165, 31, 10, '2025-07-22 17:11:25'),
(163, 166, 31, 5, '2025-07-22 18:07:45'),
(164, 167, 19, 10, '2025-07-22 18:07:52'),
(165, 168, 27, 2, '2025-07-22 18:08:17'),
(166, 169, 23, 2, '2025-07-22 18:08:24'),
(167, 170, 19, 2, '2025-07-22 18:08:30'),
(168, 171, 44, 12, '2025-07-22 23:54:18'),
(169, 172, 40, 10, '2025-07-22 23:54:24'),
(170, 173, 19, 4, '2025-07-24 16:46:32'),
(171, 174, 19, 4, '2025-07-24 16:47:01'),
(172, 175, 19, 4, '2025-07-24 16:47:26'),
(173, 176, 19, 2, '2025-07-24 16:47:39'),
(174, 177, 19, 19, '2025-07-24 16:47:53'),
(175, 178, 19, 4, '2025-07-24 16:48:07');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `clientes`
--

CREATE TABLE `clientes` (
  `id_cliente` int(11) NOT NULL,
  `nombre_cliente` varchar(255) NOT NULL,
  `direccion` varchar(255) DEFAULT NULL,
  `ciudad` varchar(100) DEFAULT NULL,
  `provincia` varchar(100) DEFAULT NULL,
  `codigo_postal` varchar(10) DEFAULT NULL,
  `telefono` varchar(20) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `nif_cif` varchar(20) DEFAULT NULL,
  `nif` varchar(20) DEFAULT NULL,
  `latitud` decimal(10,8) DEFAULT NULL,
  `longitud` decimal(11,8) DEFAULT NULL,
  `direccion_google_maps` varchar(255) DEFAULT NULL,
  `observaciones` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `clientes`
--

INSERT INTO `clientes` (`id_cliente`, `nombre_cliente`, `direccion`, `ciudad`, `provincia`, `codigo_postal`, `telefono`, `email`, `nif_cif`, `nif`, `latitud`, `longitud`, `direccion_google_maps`, `observaciones`) VALUES
(1, 'Tienda Gourmet Sevilla', 'Pl. del Arenal, 18, 11403 Jerez de la Frontera, Cádiz, España', 'Jerez de la Frontera', 'Cadiz', '11400', '600111222', 'tienda@gourmetsevilla.es', 'B41123456', '', 36.68193920, -6.13771350, NULL, NULL),
(2, 'Restaurante El Patio', 'Av. de la Constitución, 5', 'Jerez de la Frontera', 'Cádiz', '11402', '601333444', 'info@restauranteelpatio.es', 'A11987654', 'B18075572', 36.53678000, -6.17938000, 'Av. de la Constitución, 5, 11510 Puerto Real, Cádiz, España', NULL),
(3, 'Vicente Vega Jurado', 'C. Guadiamar, 3, puerta 4, 41013 Sevilla, España', 'SEVILLA', 'Sevilla', '41013', '602555666', 'cliente@example.com', '12345678Z', '31661891E', 37.35442710, -5.97756970, 'C. Guadiamar, 3, puerta 4, 41013 Sevilla, España', NULL),
(4, 'Domingo Vega Jurado', 'C. Libertad, 8', 'Espera', 'Cadiz', '11648', '607720137', 'elmolinodeespera@gmail.com', NULL, '31685686N', 36.87195530, -5.80741190, 'C. Libertad, 8, 11648 Espera, Cádiz, España', NULL),
(6, 'Plataforma Femar sl', 'P.I. LA RED SUR C/ NUEVE 2', 'ALCALA DE GUADAIRA', 'SEVILLA', '41500', '647828290', 'vvega@plataformafemar.com', NULL, 'B91016238', 37.37048406, -5.88395685, 'C. la Red Nueve, 2B, 41500 Alcalá de Guadaíra, Sevilla, España', NULL),
(7, 'ACACIO SL', 'P.I MIRADOR DE LA SIERRA NEVADA, C/ BORREGUILES 41-46', 'CIJUELA', 'GRANDADA', '18339', '958496122', 'acacio@hotmail.com', NULL, 'B18075573', 37.19798800, -3.81933420, 'C. Borreguiles, 41, 18339 Cijuela, Granada, España', NULL),
(9, 'MARCHENA INFANTE CONCEPCION', 'C/ RABADANES, 8', 'LAS CABEZAS', 'SEVILLA', '41730', '658 09 26 77', '', NULL, '75.426.900', 36.98294480, -5.94058910, 'C. Rabadanes, 8, 41730 Las Cabezas de San Juan, Sevilla, España', NULL),
(10, 'PEREZ NUÑEZ VENANCIO', 'C/ SEVILLA, 32', 'LAS CABEZAS DE SAN JUAN', 'SEVILLA', '41730', '677-876-529', '', NULL, '31564998', 36.98627360, -5.93865310, 'C. Sevilla, 32, 41730 Las Cabezas de San Juan, Sevilla, España', NULL),
(11, 'ROMERO MANCHEÑO MIGUEL', 'C/ FELIPE II, 1 - 2D', 'DOS HERMANAS', 'SEVILLA', '41700', '644 95 15 97  633164', '', NULL, '75854633', 37.27787970, -5.92816270, 'C. Felipe II, 1, 2d, 41701 Dos Hermanas, Sevilla, España', NULL),
(12, 'GIRALDES GUISADO MANUEL', 'C/ PANAMA, 13', 'DOS HERMANAS', 'SEVILLA', '41700', '659 62 80 37', '', NULL, '52231115', 37.28619320, -5.93364120, 'C. Panamá, 13, 41701 Dos Hermanas, Sevilla, España', NULL),
(13, 'OLIVARES VELAZQUEZ MANUEL', 'C/ IBIZA, 19', 'DOS HERMANAS', 'SEVILLA', '41700', '659 62 80 37', '', NULL, '28503375', 37.29562790, -5.92369800, 'C. Ibiza, 19, 41704 Dos Hermanas, Sevilla, España', NULL),
(14, 'Vega Garcia Julia', 'c guadiamar 3, 4', 'sevilla', 'SEVILLA', '41013', '647828290', 'vvegajurado@gmail.com', NULL, '31410446', 37.35442710, -5.97756970, 'C. Guadiamar, 3, 4, 41013 Sevilla, España', NULL),
(16, 'BOHORQUEZ ARMENIA JUAN', 'PLAZA BENAMAHOMA 4', 'JE', 'CÁDIZ', '11648', '607720137', 'elmolinodeespera@gmail.com', NULL, '31525525', 36.69844950, -6.10219780, 'Pl. de Benamahoma, 4, 11405 Jerez de la Frontera, Cádiz, España', NULL),
(17, 'HUGO VEGA JURADO', 'C/MANZANILLA 5 BLOQ 1 2º-4', 'SEVILLA', 'SEVILLA', '41013', '', '', NULL, '31661892A', 37.36451500, -5.97225560, 'C. Manzanilla, 5, 1, 41013 Sevilla, España', NULL),
(18, 'CONTADO', '', '', '', '', '', '', NULL, '0000000T', NULL, NULL, '', NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `cobros_factura`
--

CREATE TABLE `cobros_factura` (
  `id_cobro` int(11) NOT NULL,
  `id_factura` int(11) NOT NULL,
  `fecha_cobro` date NOT NULL,
  `cantidad_cobrada` decimal(10,2) NOT NULL,
  `id_forma_pago` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `cobros_factura`
--

INSERT INTO `cobros_factura` (`id_cobro`, `id_factura`, `fecha_cobro`, `cantidad_cobrada`, `id_forma_pago`) VALUES
(3, 1, '2025-07-12', 48.50, 1),
(5, 2, '2025-07-12', 583.50, 1),
(6, 3, '2025-07-12', 245.00, 1),
(7, 4, '2025-07-12', 285.00, 3),
(8, 5, '2025-07-12', 285.00, 3),
(9, 5, '2025-07-12', -142.50, 1),
(10, 5, '2025-07-12', -28.50, 1),
(11, 5, '2025-07-12', 12.00, 3),
(12, 6, '2025-07-12', 251.00, 1),
(13, 6, '2025-07-12', 445.00, 3),
(14, 10, '2025-07-12', 275.00, 1),
(15, 10, '2025-07-12', -275.00, 1),
(17, 21, '2025-07-12', 2849.60, 3),
(18, 22, '2025-07-13', 1231.63, 3),
(19, 24, '2025-07-13', 1024.50, 1),
(20, 19, '2025-07-13', 1909.23, 3),
(21, 8, '2025-07-13', 285.00, 1),
(22, 13, '2025-07-13', 285.00, 1),
(23, 9, '2025-07-13', 160.00, 1),
(24, 11, '2025-07-13', 285.00, 1),
(25, 23, '2025-07-13', 1081.42, 2),
(26, 12, '2025-07-13', 275.00, 2),
(27, 16, '2025-07-13', 59.00, 4),
(28, 10, '2025-07-13', 16.64, 1),
(29, 27, '2025-07-13', 285.00, 1),
(30, 27, '2025-07-13', -10.00, 1),
(31, 26, '2025-07-13', 274.96, 4),
(32, 28, '2025-07-13', 58.50, 1),
(33, 25, '2025-07-13', 296.40, 1),
(34, 29, '2025-07-14', 590.00, 2),
(35, 30, '2025-07-14', 590.00, 3),
(36, 31, '2025-07-14', 18.60, 3),
(37, 32, '2025-07-14', 33.40, 1),
(38, 33, '2025-07-14', 47.00, 1),
(39, 34, '2025-07-15', 107.00, 1),
(40, 37, '2025-07-15', 165.00, 3),
(41, 36, '2025-07-15', 43.00, 1),
(42, 35, '2025-07-15', 18.00, 1),
(43, 39, '2025-07-15', 117.00, 3),
(44, 41, '2025-07-16', 21.50, 1),
(45, 44, '2025-07-16', 275.00, 1),
(46, 43, '2025-07-16', 43.00, 1),
(47, 40, '2025-07-16', 295.00, 3),
(48, 42, '2025-07-16', 43.00, 1),
(49, 45, '2025-07-16', 285.00, 3),
(50, 46, '2025-07-16', 75.50, 1),
(51, 47, '2025-07-18', 285.00, 3),
(52, 7, '2025-07-18', 0.01, 4),
(53, 7, '2025-07-18', 55.99, 1),
(54, 48, '2025-07-18', 117.00, 3),
(55, 53, '2025-07-18', 28.50, 1),
(56, 53, '2025-07-18', 11.70, 3),
(57, 54, '2025-07-18', 52.00, 1),
(58, 55, '2025-07-18', 16.00, 1),
(59, 61, '2025-07-18', 18.40, 3),
(60, 62, '2025-07-18', 11.70, 4),
(61, 60, '2025-07-18', 285.00, 3),
(62, 66, '2025-07-18', 32.00, 3),
(63, 67, '2025-07-19', 28.50, 3),
(64, 69, '2025-07-19', 117.00, 1),
(65, 71, '2025-07-19', 80.00, 1),
(66, 70, '2025-07-19', 22.00, 1),
(67, 65, '2025-07-19', 23.40, 1),
(68, 64, '2025-07-19', 227.90, 1),
(69, 72, '2025-07-19', 117.00, 1),
(70, 73, '2025-07-19', 11.70, 1),
(71, 74, '2025-07-19', 117.00, 1),
(72, 75, '2025-07-19', 117.00, 1),
(73, 94, '2025-07-19', 6.40, 4),
(74, 95, '2025-07-19', 117.00, 4),
(75, 92, '2025-07-19', 25.60, 1),
(76, 108, '2025-07-19', 59.00, 4),
(77, 88, '2025-07-19', 10.00, 1),
(78, 107, '2025-07-19', 6.40, 1),
(79, 106, '2025-07-19', 6.40, 4),
(80, 115, '2025-07-20', 342.00, 1),
(81, 116, '2025-07-20', 17.20, 3),
(82, 117, '2025-07-20', 114.00, 4),
(83, 118, '2025-07-20', 23.40, 1),
(84, 121, '2025-07-20', 285.00, 4),
(85, 122, '2025-07-20', 199.50, 1),
(86, 125, '2025-07-20', 57.00, 1),
(87, 135, '2025-07-20', 11.80, 4),
(88, 134, '2025-07-20', 285.00, 4),
(89, 133, '2025-07-20', 32.00, 1),
(90, 132, '2025-07-20', 117.00, 3),
(91, 124, '2025-07-20', 275.00, 1),
(92, 123, '2025-07-20', 23.40, 3),
(93, 136, '2025-07-20', 285.00, 3),
(94, 138, '2025-07-20', 58.50, 4),
(95, 139, '2025-07-20', 70.80, 1),
(96, 140, '2025-07-20', 48.00, 1),
(97, 143, '2025-07-20', 57.00, 1),
(98, 144, '2025-07-20', 32.00, 1),
(99, 145, '2025-07-20', 5.90, 4),
(100, 146, '2025-07-21', 32.00, 1),
(101, 147, '2025-07-21', 57.00, 1),
(102, 148, '2025-07-21', 285.00, 1),
(103, 142, '2025-07-21', 4.30, 4),
(104, 137, '2025-07-21', 285.00, 4),
(105, 131, '2025-07-21', 11.80, 4),
(106, 96, '2025-07-21', 635.90, 1),
(107, 112, '2025-07-21', 47.00, 4),
(108, 113, '2025-07-21', 110.00, 1),
(109, 114, '2025-07-21', 189.50, 4),
(110, 46, '2025-07-21', 209.50, 1),
(111, 126, '2025-07-21', 117.00, 1),
(112, 119, '2025-07-21', 275.00, 3),
(113, 127, '2025-07-21', 285.00, 2),
(114, 111, '2025-07-21', 6.40, 3),
(115, 154, '2025-07-22', 83.60, 3),
(116, 153, '2025-07-23', 140.00, 3),
(117, 152, '2025-07-23', 300.00, 3),
(118, 150, '2025-07-23', 107.00, 3),
(119, 130, '2025-07-23', 117.00, 3),
(120, 110, '2025-07-24', 85.50, 1),
(121, 155, '2025-07-24', 114.00, 1),
(122, 156, '2025-07-24', 114.00, 1),
(123, 157, '2025-07-24', 114.00, 1),
(124, 158, '2025-07-24', 57.00, 3),
(125, 159, '2025-07-24', 541.50, 1),
(126, 160, '2025-07-24', 114.00, 1),
(127, 90, '2025-07-24', 32.00, 1),
(128, 76, '2025-07-24', 344.00, 3),
(129, 151, '2025-07-24', 390.00, 1),
(130, 149, '2025-07-24', 160.00, 1),
(131, 16, '2025-07-24', -10.00, 1),
(132, 11, '2025-07-24', -10.00, 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `cuadres_caja`
--

CREATE TABLE `cuadres_caja` (
  `id_cuadre` int(11) NOT NULL,
  `fecha_cuadre` date NOT NULL,
  `initial_denominations_json` text DEFAULT NULL,
  `final_denominations_json` text DEFAULT NULL,
  `total_inicial_efectivo` decimal(10,2) NOT NULL,
  `total_final_efectivo` decimal(10,2) NOT NULL,
  `total_cobrado_contado_db` decimal(10,2) NOT NULL,
  `diferencia` decimal(10,2) NOT NULL,
  `observaciones` text DEFAULT NULL,
  `fecha_registro` datetime NOT NULL DEFAULT current_timestamp(),
  `fecha_ultima_actualizacion` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `depositos`
--

CREATE TABLE `depositos` (
  `id_deposito` int(11) NOT NULL,
  `nombre_deposito` varchar(50) NOT NULL,
  `capacidad` decimal(10,2) NOT NULL,
  `estado` enum('ocupado','vacio','lleno') DEFAULT 'vacio',
  `stock_actual` decimal(10,2) DEFAULT 0.00,
  `id_materia_prima` int(11) DEFAULT NULL,
  `id_entrada_granel_origen` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `depositos`
--

INSERT INTO `depositos` (`id_deposito`, `nombre_deposito`, `capacidad`, `estado`, `stock_actual`, `id_materia_prima`, `id_entrada_granel_origen`) VALUES
(1, '01', 6000.00, 'ocupado', 5400.00, 2, 54),
(2, '02', 6000.00, 'vacio', 0.00, NULL, NULL),
(3, '04', 6000.00, 'vacio', 0.00, NULL, NULL),
(4, '05', 6000.00, 'vacio', 0.00, NULL, NULL),
(5, '03', 6000.00, 'vacio', 0.00, NULL, NULL),
(6, '07', 6000.00, 'vacio', 0.00, 2, NULL),
(7, '06', 6000.00, 'vacio', 0.00, NULL, NULL),
(8, '08', 6000.00, 'ocupado', 1764.50, NULL, NULL),
(9, '09', 6000.00, 'lleno', 6000.00, NULL, NULL),
(10, '10', 6000.00, 'lleno', 6000.00, NULL, NULL),
(11, '11', 6000.00, 'vacio', 0.00, NULL, NULL),
(12, '12', 6000.00, 'vacio', 0.00, NULL, NULL),
(13, '13 AOR', 5000.00, 'vacio', 0.00, NULL, NULL),
(14, '14 AOOR', 5000.00, 'ocupado', 2975.55, 4, 52),
(15, '16 A0', 1000.00, 'ocupado', 500.00, NULL, NULL),
(16, '17 A00', 1000.00, 'vacio', 0.00, NULL, NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `detalle_actividad_envasado`
--

CREATE TABLE `detalle_actividad_envasado` (
  `id_detalle_actividad` int(11) NOT NULL,
  `id_actividad_envasado` int(11) NOT NULL,
  `id_lote_envasado` int(11) NOT NULL,
  `id_producto` int(11) NOT NULL,
  `unidades_envasadas` int(11) NOT NULL,
  `litros_envasados` decimal(10,2) NOT NULL,
  `consecutivo_sublote` int(11) NOT NULL,
  `observaciones` text DEFAULT NULL,
  `unidades_vendidas` int(11) NOT NULL DEFAULT 0 COMMENT 'Unidades de este producto vendidas de esta línea de envasado',
  `litros_vendidos` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT 'Litros correspondientes a las unidades vendidas de esta línea'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `detalle_actividad_envasado`
--

INSERT INTO `detalle_actividad_envasado` (`id_detalle_actividad`, `id_actividad_envasado`, `id_lote_envasado`, `id_producto`, `unidades_envasadas`, `litros_envasados`, `consecutivo_sublote`, `observaciones`, `unidades_vendidas`, `litros_vendidos`) VALUES
(16, 9, 23, 1, 200, 1000.00, 0, '', 124, 620.00),
(17, 9, 23, 2, 100, 200.00, 0, '', 100, 200.00),
(18, 9, 23, 3, 100, 100.00, 0, '', 100, 100.00),
(19, 10, 23, 1, 200, 1000.00, 0, '', 162, 810.00),
(20, 11, 23, 3, 100, 100.00, 0, '', 100, 100.00),
(21, 11, 23, 4, 100, 50.00, 0, '', 100, 50.00),
(22, 11, 23, 5, 100, 50.00, 0, '', 100, 50.00),
(23, 12, 26, 6, 100, 500.00, 0, '', 99, 495.00),
(24, 12, 27, 7, 100, 500.00, 0, '', 100, 500.00),
(25, 13, 23, 1, 100, 500.00, 0, '', 0, 0.00),
(26, 14, 26, 6, 100, 500.00, 0, '', 100, 500.00),
(27, 15, 27, 7, 100, 500.00, 0, '', 55, 275.00),
(28, 15, 23, 2, 200, 400.00, 0, '', 155, 310.00),
(29, 15, 23, 3, 200, 200.00, 0, '', 200, 200.00),
(30, 15, 23, 4, 100, 50.00, 0, '', 100, 50.00),
(31, 16, 23, 3, 300, 300.00, 0, '', 255, 255.00),
(32, 16, 23, 5, 100, 50.00, 0, '', 100, 50.00),
(33, 17, 23, 5, 100, 50.00, 0, '', 100, 50.00),
(34, 17, 23, 4, 100, 50.00, 0, '', 100, 50.00),
(35, 18, 23, 4, 10, 5.00, 0, '', 10, 5.00),
(36, 18, 23, 5, 10, 5.00, 0, '', 10, 5.00),
(37, 19, 23, 4, 10, 5.00, 0, '', 10, 5.00),
(38, 19, 23, 5, 10, 5.00, 0, '', 10, 5.00),
(39, 20, 23, 4, 10, 5.00, 0, '', 10, 5.00),
(40, 21, 23, 4, 100, 50.00, 0, '', 54, 27.00),
(41, 22, 23, 5, 10, 5.00, 0, '', 10, 5.00),
(42, 23, 23, 4, 11, 5.50, 0, '', 11, 5.50),
(43, 24, 28, 6, 100, 500.00, 0, '', 67, 335.00),
(44, 25, 23, 5, 100, 50.00, 0, '', 18, 9.00);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `detalle_entrada_granel`
--

CREATE TABLE `detalle_entrada_granel` (
  `id_detalle_entrada` int(11) NOT NULL,
  `id_entrada_granel` int(11) NOT NULL,
  `id_deposito` int(11) NOT NULL,
  `litros_descargados` decimal(10,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `detalle_entrada_granel`
--

INSERT INTO `detalle_entrada_granel` (`id_detalle_entrada`, `id_entrada_granel`, `id_deposito`, `litros_descargados`) VALUES
(1, 49, 1, 6000.00),
(2, 50, 2, 6000.00),
(3, 50, 5, 550.22),
(4, 51, 3, 4000.00),
(5, 51, 3, 2000.00),
(6, 51, 4, 550.22),
(7, 52, 14, 3275.11),
(8, 53, 13, 1000.00),
(9, 54, 1, 6000.00);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `detalle_factura_ventas`
--

CREATE TABLE `detalle_factura_ventas` (
  `id_detalle_factura` int(11) NOT NULL,
  `id_factura` int(11) NOT NULL,
  `id_producto` int(11) NOT NULL,
  `cantidad` int(11) NOT NULL,
  `precio_unitario_base` decimal(10,2) NOT NULL DEFAULT 0.00,
  `unidades_retiradas` int(11) DEFAULT 0,
  `estado_retiro` enum('Pendiente','Parcial','Completado') DEFAULT 'Pendiente',
  `precio_unitario` decimal(10,2) NOT NULL,
  `subtotal` decimal(10,2) GENERATED ALWAYS AS (`cantidad` * `precio_unitario`) STORED,
  `porcentaje_iva_aplicado_en_factura` decimal(5,2) NOT NULL COMMENT 'Porcentaje de IVA aplicado a esta línea en el momento de la venta.',
  `importe_iva_linea` decimal(10,2) NOT NULL COMMENT 'Importe de IVA calculado para esta línea de factura.',
  `subtotal_linea_sin_iva` decimal(10,2) NOT NULL COMMENT 'Subtotal de la línea sin IVA.',
  `total_linea_iva_incluido` decimal(10,2) NOT NULL COMMENT 'Total de la línea incluyendo el IVA.'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `detalle_factura_ventas`
--

INSERT INTO `detalle_factura_ventas` (`id_detalle_factura`, `id_factura`, `id_producto`, `cantidad`, `precio_unitario_base`, `unidades_retiradas`, `estado_retiro`, `precio_unitario`, `porcentaje_iva_aplicado_en_factura`, `importe_iva_linea`, `subtotal_linea_sin_iva`, `total_linea_iva_incluido`) VALUES
(5, 1, 2, 5, 11.70, 5, 'Completado', 9.70, 4.00, 1.87, 46.63, 48.50),
(6, 2, 1, 20, 28.50, 20, 'Completado', 27.79, 4.00, 21.37, 534.34, 555.71),
(7, 2, 1, 1, 28.50, 1, 'Completado', 27.79, 4.00, 1.07, 26.72, 27.79),
(8, 3, 1, 10, 28.50, 10, 'Completado', 24.50, 4.00, 9.42, 235.58, 245.00),
(9, 4, 1, 10, 28.50, 10, 'Completado', 28.50, 4.00, 10.96, 274.04, 285.00),
(15, 5, 1, 4, 28.50, 4, 'Completado', 31.50, 4.00, 4.85, 121.15, 126.00),
(16, 6, 3, 10, 5.90, 10, 'Completado', 5.90, 4.00, 2.27, 56.73, 59.00),
(17, 6, 2, 10, 11.70, 10, 'Completado', 11.70, 4.00, 4.50, 112.50, 117.00),
(18, 6, 5, 10, 4.30, 10, 'Completado', 4.30, 4.00, 1.65, 41.35, 43.00),
(19, 6, 4, 10, 3.20, 10, 'Completado', 3.20, 4.00, 1.23, 30.77, 32.00),
(20, 6, 6, 10, 28.50, 10, 'Completado', 28.50, 4.00, 10.96, 274.04, 285.00),
(21, 6, 7, 10, 16.00, 10, 'Completado', 16.00, 4.00, 6.15, 153.85, 160.00),
(25, 8, 6, 10, 28.50, 10, 'Completado', 28.50, 4.00, 10.96, 274.04, 285.00),
(26, 9, 7, 10, 16.00, 10, 'Completado', 16.00, 4.00, 6.15, 153.85, 160.00),
(29, 11, 6, 10, 28.50, 10, 'Completado', 27.50, 4.00, 10.56, 264.44, 275.00),
(30, 12, 1, 10, 28.50, 10, 'Completado', 27.50, 4.00, 10.58, 264.42, 275.00),
(31, 13, 1, 10, 28.50, 10, 'Completado', 28.50, 4.00, 10.96, 274.04, 285.00),
(32, 16, 3, 10, 5.90, 10, 'Completado', 4.90, 4.00, 1.88, 47.12, 49.00),
(33, 19, 6, 67, 27.40, 67, 'Completado', 28.50, 4.00, 73.43, 1835.80, 1909.23),
(34, 21, 6, 100, 27.40, 100, 'Completado', 28.50, 4.00, 109.60, 2740.00, 2849.60),
(35, 22, 7, 77, 15.38, 77, 'Completado', 16.00, 4.00, 47.37, 1184.26, 1231.63),
(36, 23, 3, 180, 5.67, 180, 'Completado', 6.01, 4.00, 41.59, 1039.83, 1081.42),
(37, 24, 2, 85, 11.25, 85, 'Completado', 12.05, 4.00, 39.40, 985.10, 1024.50),
(38, 10, 7, 1, 16.00, 1, 'Completado', 16.64, 4.00, 0.64, 16.00, 16.64),
(39, 25, 1, 10, 28.50, 10, 'Completado', 29.64, 4.00, 11.40, 285.00, 296.40),
(40, 26, 1, 10, 27.40, 10, 'Completado', 27.50, 4.00, 10.56, 264.40, 274.96),
(41, 27, 1, 10, 27.41, 10, 'Completado', 27.50, 4.00, 10.56, 264.44, 275.00),
(42, 28, 2, 5, 11.25, 5, 'Completado', 11.70, 4.00, 2.25, 56.25, 58.50),
(43, 29, 3, 100, 5.67, 100, 'Completado', 5.90, 4.00, 22.66, 567.34, 590.00),
(44, 30, 3, 100, 5.67, 100, 'Completado', 5.90, 4.00, 22.66, 567.34, 590.00),
(45, 31, 5, 2, 4.13, 2, 'Completado', 9.30, 4.00, 0.71, 17.89, 18.60),
(46, 32, 2, 2, 11.25, 2, 'Completado', 16.70, 4.00, 1.28, 32.12, 33.40),
(47, 33, 7, 2, 15.39, 2, 'Completado', 23.50, 4.00, 1.80, 45.20, 47.00),
(48, 34, 2, 10, 11.25, 10, 'Completado', 10.70, 4.00, 4.11, 102.89, 107.00),
(49, 35, 7, 1, 15.39, 1, 'Completado', 18.00, 4.00, 0.69, 17.31, 18.00),
(50, 36, 5, 10, 4.13, 10, 'Completado', 4.30, 4.00, 1.65, 41.35, 43.00),
(51, 37, 7, 10, 15.39, 10, 'Completado', 16.50, 4.00, 6.34, 158.66, 165.00),
(52, 39, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(53, 40, 1, 10, 27.41, 10, 'Completado', 29.50, 4.00, 11.33, 283.67, 295.00),
(54, 41, 5, 5, 4.13, 5, 'Completado', 4.30, 4.00, 0.83, 20.67, 21.50),
(55, 42, 5, 10, 4.13, 10, 'Completado', 4.30, 4.00, 1.65, 41.35, 43.00),
(56, 43, 5, 10, 4.13, 10, 'Completado', 4.30, 4.00, 1.65, 41.35, 43.00),
(57, 44, 1, 10, 27.41, 10, 'Completado', 27.50, 4.00, 10.56, 264.44, 275.00),
(58, 45, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(60, 47, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(61, 7, 7, 1, 15.39, 1, 'Completado', 56.00, 4.00, 2.15, 53.85, 56.00),
(62, 48, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(63, 53, 1, 1, 27.41, 1, 'Completado', 28.50, 4.00, 1.09, 27.41, 28.50),
(64, 53, 2, 1, 11.25, 1, 'Completado', 11.70, 4.00, 0.45, 11.25, 11.70),
(65, 54, 1, 2, 27.41, 2, 'Completado', 26.00, 4.00, 2.00, 50.00, 52.00),
(66, 55, 7, 1, 15.39, 1, 'Completado', 16.00, 4.00, 0.61, 15.39, 16.00),
(69, 60, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(70, 61, 2, 2, 11.25, 2, 'Completado', 9.20, 4.00, 0.71, 17.69, 18.40),
(71, 62, 2, 1, 11.25, 1, 'Completado', 11.70, 4.00, 0.45, 11.25, 11.70),
(73, 64, 5, 53, 4.13, 53, 'Completado', 4.30, 4.00, 8.75, 219.15, 227.90),
(74, 65, 2, 2, 11.25, 2, 'Completado', 11.70, 4.00, 0.90, 22.50, 23.40),
(75, 66, 7, 2, 15.39, 2, 'Completado', 16.00, 4.00, 1.23, 30.77, 32.00),
(76, 67, 1, 1, 27.41, 1, 'Completado', 28.50, 4.00, 1.09, 27.41, 28.50),
(77, 69, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(78, 70, 7, 2, 15.39, 2, 'Completado', 11.00, 4.00, 0.84, 21.16, 22.00),
(79, 71, 1, 3, 27.41, 3, 'Completado', 26.67, 4.00, 3.07, 76.93, 80.00),
(80, 72, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(81, 73, 2, 1, 11.25, 1, 'Completado', 11.70, 4.00, 0.45, 11.25, 11.70),
(82, 74, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(83, 75, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(84, 76, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(85, 76, 3, 10, 5.67, 10, 'Completado', 5.90, 4.00, 2.27, 56.73, 59.00),
(86, 77, 4, 190, 3.08, 190, 'Completado', 3.20, 4.00, 23.35, 584.65, 608.00),
(87, 78, 5, 100, 4.13, 100, 'Completado', 4.30, 4.00, 16.51, 413.49, 430.00),
(89, 80, 4, 100, 3.08, 100, 'Completado', 3.20, 4.00, 12.29, 307.71, 320.00),
(90, 81, 5, 100, 4.13, 100, 'Completado', 4.30, 4.00, 16.51, 413.49, 430.00),
(91, 82, 7, 10, 15.39, 10, 'Completado', 16.00, 4.00, 6.14, 153.86, 160.00),
(92, 83, 7, 2, 15.39, 2, 'Completado', 16.00, 4.00, 1.23, 30.77, 32.00),
(96, 87, 3, 1, 5.67, 1, 'Completado', 5.90, 4.00, 0.23, 5.67, 5.90),
(97, 88, 3, 1, 5.67, 1, 'Completado', 10.00, 4.00, 0.38, 9.62, 10.00),
(98, 89, 5, 1, 4.13, 1, 'Completado', 4.30, 4.00, 0.17, 4.13, 4.30),
(99, 90, 4, 10, 3.08, 10, 'Completado', 3.20, 4.00, 1.23, 30.77, 32.00),
(101, 92, 4, 8, 3.08, 8, 'Completado', 3.20, 4.00, 0.98, 24.62, 25.60),
(103, 94, 4, 2, 3.08, 2, 'Completado', 3.20, 4.00, 0.25, 6.15, 6.40),
(104, 95, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(105, 96, 3, 101, 5.67, 101, 'Completado', 6.30, 4.00, 24.42, 611.48, 635.90),
(106, 97, 5, 19, 4.13, 19, 'Completado', 4.30, 4.00, 3.14, 78.56, 81.70),
(107, 98, 4, 10, 3.08, 10, 'Completado', 3.20, 4.00, 1.23, 30.77, 32.00),
(108, 99, 4, 10, 3.08, 10, 'Completado', 3.20, 4.00, 1.23, 30.77, 32.00),
(109, 100, 4, 20, 3.08, 20, 'Completado', 3.20, 4.00, 2.46, 61.54, 64.00),
(110, 101, 4, 10, 3.08, 10, 'Completado', 3.20, 4.00, 1.23, 30.77, 32.00),
(111, 102, 5, 1, 4.13, 1, 'Completado', 4.30, 4.00, 0.17, 4.13, 4.30),
(112, 103, 4, 3, 3.08, 3, 'Completado', 3.20, 4.00, 0.37, 9.23, 9.60),
(113, 104, 5, 9, 4.13, 9, 'Completado', 4.30, 4.00, 1.49, 37.21, 38.70),
(114, 105, 4, 1, 3.08, 1, 'Completado', 3.20, 4.00, 0.12, 3.08, 3.20),
(115, 106, 4, 2, 3.08, 2, 'Completado', 3.20, 4.00, 0.25, 6.15, 6.40),
(116, 107, 4, 2, 3.08, 2, 'Completado', 3.20, 4.00, 0.25, 6.15, 6.40),
(117, 108, 3, 10, 5.67, 10, 'Completado', 5.90, 4.00, 2.27, 56.73, 59.00),
(118, 109, 5, 1, 4.13, 1, 'Completado', 4.30, 4.00, 0.17, 4.13, 4.30),
(119, 110, 1, 3, 27.41, 3, 'Completado', 28.50, 4.00, 3.28, 82.22, 85.50),
(120, 111, 4, 2, 3.08, 2, 'Completado', 3.20, 4.00, 0.25, 6.15, 6.40),
(121, 112, 6, 2, 27.41, 2, 'Completado', 23.50, 4.00, 1.80, 45.20, 47.00),
(122, 113, 2, 12, 11.25, 12, 'Completado', 9.17, 4.00, 4.22, 105.78, 110.00),
(123, 114, 6, 7, 27.41, 7, 'Completado', 27.07, 4.00, 7.28, 182.22, 189.50),
(124, 115, 6, 2, 27.41, 2, 'Completado', 28.50, 4.00, 2.19, 54.81, 57.00),
(125, 115, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(126, 116, 5, 4, 4.13, 4, 'Completado', 4.30, 4.00, 0.66, 16.54, 17.20),
(127, 117, 6, 4, 27.41, 4, 'Completado', 28.50, 4.00, 4.38, 109.62, 114.00),
(128, 118, 2, 2, 11.25, 2, 'Completado', 11.70, 4.00, 0.90, 22.50, 23.40),
(129, 119, 6, 10, 27.41, 10, 'Completado', 27.50, 4.00, 10.56, 264.44, 275.00),
(130, 120, 7, 1, 15.39, 1, 'Completado', 16.00, 4.00, 0.61, 15.39, 16.00),
(131, 121, 6, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(132, 122, 6, 7, 27.41, 7, 'Completado', 28.50, 4.00, 7.66, 191.84, 199.50),
(133, 123, 2, 2, 11.25, 2, 'Completado', 11.70, 4.00, 0.90, 22.50, 23.40),
(134, 124, 6, 10, 27.41, 10, 'Completado', 27.50, 4.00, 10.56, 264.44, 275.00),
(135, 125, 6, 2, 27.41, 2, 'Completado', 28.50, 4.00, 2.19, 54.81, 57.00),
(136, 126, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(137, 127, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(138, 128, 7, 2, 15.39, 2, 'Completado', 16.00, 4.00, 1.23, 30.77, 32.00),
(139, 128, 3, 100, 5.67, 100, 'Completado', 5.90, 4.00, 22.66, 567.34, 590.00),
(140, 129, 6, 1, 27.41, 1, 'Completado', 28.50, 4.00, 1.09, 27.41, 28.50),
(141, 130, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(142, 131, 3, 2, 5.67, 2, 'Completado', 5.90, 4.00, 0.45, 11.35, 11.80),
(143, 132, 2, 10, 11.25, 10, 'Completado', 11.70, 4.00, 4.49, 112.51, 117.00),
(144, 133, 7, 2, 15.39, 2, 'Completado', 16.00, 4.00, 1.23, 30.77, 32.00),
(145, 134, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(146, 135, 3, 2, 5.67, 2, 'Completado', 5.90, 4.00, 0.45, 11.35, 11.80),
(147, 136, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(148, 137, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(149, 138, 2, 5, 11.25, 5, 'Completado', 11.70, 4.00, 2.25, 56.25, 58.50),
(150, 139, 3, 12, 5.67, 12, 'Completado', 5.90, 4.00, 2.72, 68.08, 70.80),
(151, 140, 7, 3, 15.39, 3, 'Completado', 16.00, 4.00, 1.84, 46.16, 48.00),
(152, 142, 5, 1, 4.13, 1, 'Completado', 4.30, 4.00, 0.17, 4.13, 4.30),
(153, 143, 6, 2, 27.41, 2, 'Completado', 28.50, 4.00, 2.19, 54.81, 57.00),
(154, 144, 7, 2, 15.39, 2, 'Completado', 16.00, 4.00, 1.23, 30.77, 32.00),
(155, 145, 3, 1, 5.67, 1, 'Completado', 5.90, 4.00, 0.23, 5.67, 5.90),
(156, 146, 7, 2, 15.39, 2, 'Completado', 16.00, 4.00, 1.23, 30.77, 32.00),
(157, 147, 1, 2, 27.41, 2, 'Completado', 28.50, 4.00, 2.19, 54.81, 57.00),
(158, 148, 1, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(159, 46, 6, 10, 27.41, 10, 'Completado', 28.50, 4.00, 10.94, 274.06, 285.00),
(160, 149, 7, 10, 15.39, 10, 'Completado', 16.00, 4.00, 6.14, 153.86, 160.00),
(161, 150, 2, 10, 11.25, 10, 'Completado', 10.70, 4.00, 4.11, 102.89, 107.00),
(162, 151, 7, 2, 15.39, 2, 'Completado', 15.92, 4.00, 1.22, 30.61, 31.84),
(163, 151, 1, 10, 27.41, 10, 'Completado', 28.35, 4.00, 10.89, 272.66, 283.55),
(164, 151, 4, 5, 3.08, 5, 'Completado', 3.18, 4.00, 0.61, 15.31, 15.92),
(165, 151, 3, 10, 5.67, 10, 'Completado', 5.87, 4.00, 2.25, 56.45, 58.70),
(166, 152, 3, 5, 5.67, 5, 'Completado', 5.63, 4.00, 1.08, 27.06, 28.14),
(167, 152, 1, 10, 27.41, 10, 'Completado', 27.19, 4.00, 10.44, 261.42, 271.86),
(168, 153, 7, 2, 15.39, 2, 'Completado', 15.34, 4.00, 1.18, 29.51, 30.69),
(169, 153, 6, 2, 27.41, 2, 'Completado', 27.33, 4.00, 2.10, 52.56, 54.66),
(170, 153, 1, 2, 27.41, 2, 'Completado', 27.33, 4.00, 2.10, 52.56, 54.66),
(171, 154, 5, 12, 4.13, 12, 'Completado', 4.30, 4.00, 1.98, 49.62, 51.60),
(172, 154, 4, 10, 3.08, 10, 'Completado', 3.20, 4.00, 1.23, 30.77, 32.00),
(173, 155, 1, 4, 27.41, 4, 'Completado', 28.50, 4.00, 4.38, 109.62, 114.00),
(174, 156, 1, 4, 27.41, 4, 'Completado', 28.50, 4.00, 4.38, 109.62, 114.00),
(175, 157, 1, 4, 27.41, 4, 'Completado', 28.50, 4.00, 4.38, 109.62, 114.00),
(176, 158, 1, 2, 27.41, 2, 'Completado', 28.50, 4.00, 2.19, 54.81, 57.00),
(177, 159, 1, 19, 27.41, 19, 'Completado', 28.50, 4.00, 20.79, 520.71, 541.50),
(178, 160, 1, 4, 27.41, 4, 'Completado', 28.50, 4.00, 4.38, 109.62, 114.00);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `detalle_lotes_envasado`
--

CREATE TABLE `detalle_lotes_envasado` (
  `id_detalle_lote` int(11) NOT NULL,
  `id_lote_envasado` int(11) NOT NULL,
  `id_deposito_origen` int(11) NOT NULL,
  `litros_extraidos` decimal(10,2) NOT NULL,
  `numero_lote_proveedor_capturado` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `detalle_lotes_envasado`
--

INSERT INTO `detalle_lotes_envasado` (`id_detalle_lote`, `id_lote_envasado`, `id_deposito_origen`, `litros_extraidos`, `numero_lote_proveedor_capturado`) VALUES
(1, 23, 5, 550.22, 'lote 2 2024/2025'),
(2, 23, 3, 3000.00, 'Lote3 2024/2025'),
(3, 23, 7, 2449.78, 'lote 1 2024/2025'),
(4, 24, 2, 3000.00, 'lote 2 2024/2025'),
(5, 24, 3, 3000.00, 'Lote3 2024/2025'),
(6, 25, 7, 3550.22, 'lote 1 2024/2025'),
(7, 25, 2, 2449.78, 'lote 2 2024/2025'),
(8, 26, 2, 400.00, 'lote 2 2024/2025'),
(9, 26, 13, 600.00, 'MIG-AOR-2025'),
(10, 27, 2, 150.22, 'lote 2 2024/2025'),
(11, 27, 4, 550.22, 'Lote3 2024/2025'),
(12, 27, 14, 299.56, 'MIG-AOOR-2025'),
(13, 28, 1, 600.00, 'LOTE 4'),
(14, 28, 13, 400.00, 'MIG-AOR-2025');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `detalle_pedidos`
--

CREATE TABLE `detalle_pedidos` (
  `id_detalle_pedido` int(11) NOT NULL,
  `id_pedido` int(11) NOT NULL,
  `id_producto` int(11) NOT NULL,
  `cantidad_solicitada` int(11) NOT NULL,
  `precio_unitario_venta` decimal(10,2) NOT NULL,
  `descuento_porcentaje` decimal(5,2) DEFAULT 0.00,
  `recargo_porcentaje` decimal(5,2) DEFAULT 0.00,
  `iva_porcentaje` decimal(5,2) DEFAULT 21.00,
  `subtotal_linea_base` decimal(10,2) DEFAULT NULL,
  `subtotal_linea_iva` decimal(10,2) DEFAULT NULL,
  `subtotal_linea_total` decimal(10,2) DEFAULT NULL,
  `subtotal_linea` decimal(10,2) NOT NULL,
  `estado_linea` enum('Pendiente','Asignado a Ruta','Entregado','Cancelado') DEFAULT 'Pendiente',
  `observaciones_detalle` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `detalle_pedidos`
--

INSERT INTO `detalle_pedidos` (`id_detalle_pedido`, `id_pedido`, `id_producto`, `cantidad_solicitada`, `precio_unitario_venta`, `descuento_porcentaje`, `recargo_porcentaje`, `iva_porcentaje`, `subtotal_linea_base`, `subtotal_linea_iva`, `subtotal_linea_total`, `subtotal_linea`, `estado_linea`, `observaciones_detalle`) VALUES
(4, 2, 5, 10, 4.30, 0.00, 0.00, 4.00, 43.00, 1.72, 44.72, 0.00, 'Pendiente', ''),
(6, 4, 6, 10, 28.50, 0.00, 0.00, 4.00, 275.00, 11.00, 286.00, 0.00, 'Pendiente', ''),
(7, 5, 7, 10, 16.00, 0.00, 0.00, 4.00, 60.00, 2.40, 62.40, 0.00, 'Pendiente', ''),
(9, 7, 1, 10, 28.50, 0.00, 0.00, 4.00, 283.65, 11.35, 295.00, 0.00, 'Pendiente', ''),
(11, 9, 6, 10, 28.50, 0.00, 0.00, 4.00, 264.42, 10.58, 275.00, 0.00, 'Pendiente', ''),
(12, 10, 1, 10, 28.50, 0.00, 0.00, 4.00, 264.42, 10.58, 275.00, 0.00, 'Pendiente', ''),
(13, 11, 3, 10, 5.90, 0.00, 0.00, 4.00, 47.12, 1.88, 49.00, 0.00, 'Pendiente', ''),
(14, 12, 2, 10, 11.70, 0.00, 0.00, 4.00, 102.88, 4.12, 107.00, 0.00, 'Pendiente', ''),
(15, 13, 6, 70, 28.50, 0.00, 0.00, 4.00, 1918.27, 76.73, 1995.00, 0.00, 'Pendiente', ''),
(16, 14, 6, 200, 28.50, 0.00, 0.00, 4.00, 5480.77, 219.23, 5700.00, 0.00, 'Pendiente', ''),
(17, 15, 7, 80, 16.00, 0.00, 0.00, 4.00, 1230.77, 49.23, 1280.00, 0.00, 'Pendiente', ''),
(18, 16, 3, 200, 5.90, 0.00, 0.00, 4.00, 1153.85, 46.15, 1200.00, 0.00, 'Pendiente', ''),
(19, 17, 2, 90, 11.70, 0.00, 0.00, 4.00, 1041.35, 41.65, 1083.00, 0.00, 'Pendiente', ''),
(20, 18, 2, 5, 11.70, 0.00, 0.00, 4.00, 56.25, 2.25, 58.50, 0.00, 'Pendiente', 'Pendiente (Origen: Pedido #17)'),
(21, 19, 2, 10, 11.70, 0.00, 0.00, 4.00, 112.50, 4.50, 117.00, 0.00, 'Pendiente', 'Pendiente (Origen: Pedido #12)'),
(22, 22, 3, 201, 5.90, 0.00, 0.00, 4.00, 1140.29, 45.61, 1185.90, 0.00, 'Pendiente', ''),
(23, 23, 3, 100, 5.90, 0.00, 0.00, 4.00, 567.31, 22.69, 590.00, 0.00, 'Pendiente', ''),
(24, 24, 3, 101, 5.90, 0.00, 0.00, 4.00, 611.44, 24.46, 635.90, 0.00, '', 'Pendiente (Origen: Pedido #22)'),
(25, 25, 7, 2, 16.00, 0.00, 0.00, 4.00, 45.19, 1.81, 47.00, 0.00, 'Pendiente', ''),
(26, 26, 2, 2, 11.70, 0.00, 0.00, 4.00, 32.12, 1.28, 33.40, 0.00, 'Pendiente', ''),
(27, 27, 5, 2, 4.30, 0.00, 0.00, 4.00, 17.88, 0.72, 18.60, 0.00, 'Pendiente', ''),
(30, 6, 7, 1, 16.00, 0.00, 0.00, 4.00, 17.31, 0.69, 18.00, 0.00, 'Pendiente', ''),
(31, 3, 7, 10, 16.00, 0.00, 0.00, 4.00, 158.65, 6.35, 165.00, 0.00, 'Pendiente', ''),
(32, 30, 6, 10, 28.50, 0.00, 0.00, 4.00, 264.42, 10.58, 275.00, 0.00, '', 'Pendiente (Origen: Pedido #29)'),
(33, 31, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, '', ''),
(34, 32, 6, 10, 28.50, 0.00, 0.00, 4.00, 264.42, 10.58, 275.00, 0.00, '', 'Pendiente (Origen: Pedido #29)'),
(35, 29, 1, 10, 28.50, 0.00, 0.00, 4.00, 283.65, 11.35, 295.00, 0.00, 'Pendiente', ''),
(36, 33, 1, 10, 28.50, 0.00, 0.00, 4.00, 264.42, 10.58, 275.00, 0.00, 'Pendiente', ''),
(37, 34, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, 'Pendiente', ''),
(38, 35, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, '', ''),
(39, 37, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, '', ''),
(40, 38, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, '', ''),
(41, 39, 2, 10, 11.70, 0.00, 0.00, 4.00, 112.50, 4.50, 117.00, 0.00, '', ''),
(42, 40, 2, 2, 11.70, 0.00, 0.00, 4.00, 22.50, 0.90, 23.40, 0.00, '', ''),
(43, 41, 2, 2, 11.70, 0.00, 0.00, 4.00, 22.50, 0.90, 23.40, 0.00, '', ''),
(44, 42, 2, 10, 11.70, 0.00, 0.00, 4.00, 112.50, 4.50, 117.00, 0.00, 'Pendiente', ''),
(45, 43, 5, 10, 4.30, 0.00, 0.00, 4.00, 41.35, 1.65, 43.00, 0.00, 'Pendiente', ''),
(46, 44, 5, 10, 4.30, 0.00, 0.00, 4.00, 41.35, 1.65, 43.00, 0.00, 'Pendiente', ''),
(47, 45, 6, 10, 28.50, 0.00, 0.00, 4.00, 274.06, 10.94, 285.00, 0.00, 'Pendiente', 'Pendiente (Origen: Pedido #30)'),
(48, 46, 5, 5, 4.30, 0.00, 0.00, 4.00, 20.67, 0.83, 21.50, 0.00, 'Pendiente', ''),
(51, 49, 6, 7, 28.50, 0.00, 0.00, 4.00, 182.21, 7.29, 189.50, 0.00, '', 'Pendiente (Origen: Pedido #48)'),
(52, 50, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, 'Pendiente', ''),
(53, 51, 7, 2, 16.00, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, '', ''),
(54, 52, 2, 10, 11.70, 0.00, 0.00, 4.00, 112.50, 4.50, 117.00, 0.00, '', ''),
(56, 54, 2, 10, 11.70, 0.00, 0.00, 4.00, 112.50, 4.50, 117.00, 0.00, '', ''),
(57, 57, 2, 10, 11.70, 0.00, 0.00, 4.00, 112.50, 4.50, 117.00, 0.00, 'Pendiente', ''),
(58, 60, 2, 10, 11.70, 0.00, 0.00, 4.00, 112.50, 4.50, 117.00, 0.00, 'Pendiente', ''),
(59, 61, 7, 2, 16.00, 0.00, 0.00, 4.00, 21.15, 0.85, 22.00, 0.00, 'Pendiente', ''),
(60, 62, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, 'Pendiente', ''),
(61, 63, 2, 2, 11.70, 0.00, 0.00, 4.00, 17.69, 0.71, 18.40, 0.00, 'Pendiente', ''),
(62, 64, 3, 1, 5.90, 0.00, 0.00, 4.00, 5.67, 0.23, 5.90, 0.00, '', ''),
(64, 65, 2, 1, 11.70, 0.00, 0.00, 4.00, 11.25, 0.45, 11.70, 0.00, 'Pendiente', ''),
(69, 68, 2, 2, 11.70, 0.00, 0.00, 4.00, 22.50, 0.90, 23.40, 0.00, 'Pendiente', ''),
(70, 69, 7, 2, 16.00, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, 'Pendiente', ''),
(72, 66, 3, 1, 5.90, 0.00, 0.00, 4.00, 5.67, 0.23, 5.90, 0.00, '', 'Pendiente (Origen: Pedido #66)'),
(73, 67, 5, 1, 4.30, 0.00, 0.00, 4.00, 4.13, 0.17, 4.30, 0.00, '', 'Pendiente (Origen: Pedido #67)'),
(74, 58, 1, 3, 28.50, 0.00, 0.00, 4.00, 76.92, 3.08, 80.00, 0.00, 'Pendiente', ''),
(75, 70, 1, 3, 28.50, 0.00, 0.00, 4.00, 82.21, 3.29, 85.50, 0.00, '', ''),
(82, 72, 4, 1, 3.20, 0.00, 0.00, 4.00, 3.08, 0.12, 3.20, 0.00, '', 'Pendiente (Origen: Pedido #72)'),
(84, 73, 5, 9, 4.30, 0.00, 0.00, 4.00, 37.21, 1.49, 38.70, 0.00, '', 'Pendiente (Origen: Pedido #73)'),
(85, 74, 4, 100, 3.20, 0.00, 0.00, 4.00, 307.69, 12.31, 320.00, 0.00, '', ''),
(88, 77, 5, 100, 4.30, 0.00, 0.00, 4.00, 413.46, 16.54, 430.00, 0.00, '', ''),
(92, 79, 4, 2, 3.20, 0.00, 0.00, 4.00, 6.15, 0.25, 6.40, 0.00, '', ''),
(94, 80, 4, 8, 3.20, 0.00, 0.00, 4.00, 24.62, 0.98, 25.60, 0.00, '', ''),
(95, 81, 4, 2, 3.20, 0.00, 0.00, 4.00, 6.15, 0.25, 6.40, 0.00, '', ''),
(96, 82, 4, 3, 3.20, 0.00, 0.00, 4.00, 9.23, 0.37, 9.60, 0.00, '', ''),
(97, 78, 7, 1, 16.00, 0.00, 0.00, 4.00, 15.38, 0.62, 16.00, 0.00, 'Pendiente', ''),
(98, 83, 6, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, '', 'Pendiente (Origen: Pedido #45)'),
(99, 84, 6, 7, 28.50, 0.00, 0.00, 4.00, 191.83, 7.67, 199.50, 0.00, '', 'Pendiente (Origen: Pedido #45)'),
(100, 85, 5, 19, 4.30, 0.00, 0.00, 4.00, 78.56, 3.14, 81.70, 0.00, '', ''),
(101, 86, 5, 1, 4.30, 0.00, 0.00, 4.00, 4.13, 0.17, 4.30, 0.00, '', ''),
(103, 88, 4, 20, 3.20, 0.00, 0.00, 4.00, 61.54, 2.46, 64.00, 0.00, '', ''),
(104, 89, 4, 10, 3.20, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, '', ''),
(105, 90, 4, 10, 3.20, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, '', ''),
(106, 87, 4, 10, 3.20, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, '', ''),
(107, 91, 5, 1, 4.30, 0.00, 0.00, 4.00, 4.13, 0.17, 4.30, 0.00, '', 'Pendiente (Origen: Pedido #73)'),
(108, 59, 4, 2, 3.20, 0.00, 0.00, 4.00, 6.15, 0.25, 6.40, 0.00, '', ''),
(109, 71, 4, 2, 3.20, 0.00, 0.00, 4.00, 6.15, 0.25, 6.40, 0.00, '', ''),
(110, 21, 4, 2, 3.20, 0.00, 0.00, 4.00, 6.15, 0.25, 6.40, 0.00, '', ''),
(111, 92, 6, 2, 28.50, 0.00, 0.00, 4.00, 54.81, 2.19, 57.00, 0.00, '', ''),
(112, 92, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, '', ''),
(113, 93, 5, 4, 4.30, 0.00, 0.00, 4.00, 16.54, 0.66, 17.20, 0.00, '', ''),
(114, 94, 6, 4, 28.50, 0.00, 0.00, 4.00, 109.62, 4.38, 114.00, 0.00, '', ''),
(115, 47, 6, 2, 28.50, 0.00, 0.00, 4.00, 45.19, 1.81, 47.00, 0.00, '', ''),
(116, 48, 2, 12, 11.70, 0.00, 0.00, 4.00, 105.77, 4.23, 110.00, 0.00, '', ''),
(117, 56, 6, 2, 28.50, 0.00, 0.00, 4.00, 54.81, 2.19, 57.00, 0.00, '', ''),
(118, 95, 7, 1, 16.00, 0.00, 0.00, 4.00, 15.38, 0.62, 16.00, 0.00, '', ''),
(119, 96, 7, 2, 16.00, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, '', ''),
(120, 96, 3, 100, 5.90, 0.00, 0.00, 4.00, 567.31, 22.69, 590.00, 0.00, '', ''),
(121, 55, 6, 1, 28.50, 0.00, 0.00, 4.00, 27.40, 1.10, 28.50, 0.00, '', ''),
(122, 53, 3, 2, 5.90, 0.00, 0.00, 4.00, 11.35, 0.45, 11.80, 0.00, '', ''),
(123, 36, 3, 2, 5.90, 0.00, 0.00, 4.00, 11.35, 0.45, 11.80, 0.00, '', ''),
(124, 97, 2, 5, 11.70, 0.00, 0.00, 4.00, 56.25, 2.25, 58.50, 0.00, '', ''),
(125, 98, 3, 12, 5.90, 0.00, 0.00, 4.00, 68.08, 2.72, 70.80, 0.00, '', ''),
(126, 99, 7, 3, 16.00, 0.00, 0.00, 4.00, 46.15, 1.85, 48.00, 0.00, '', ''),
(127, 100, 6, 2, 28.50, 0.00, 0.00, 4.00, 54.81, 2.19, 57.00, 0.00, '', ''),
(129, 103, 7, 2, 16.00, 0.00, 0.00, 4.00, 30.61, 1.22, 31.84, 0.00, '', ''),
(130, 104, 5, 1, 4.30, 0.00, 0.00, 4.00, 4.13, 0.17, 4.30, 0.00, '', ''),
(131, 105, 3, 1, 5.90, 0.00, 0.00, 4.00, 5.67, 0.23, 5.90, 0.00, '', ''),
(132, 106, 7, 2, 16.00, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, '', ''),
(133, 107, 1, 2, 28.50, 0.00, 0.00, 4.00, 54.81, 2.19, 57.00, 0.00, '', ''),
(134, 108, 1, 10, 28.50, 0.00, 0.00, 4.00, 274.04, 10.96, 285.00, 0.00, '', ''),
(135, 102, 2, 10, 11.70, 0.00, 0.00, 4.00, 102.88, 4.12, 107.00, 0.00, '', ''),
(137, 101, 7, 10, 16.00, 0.00, 0.00, 4.00, 153.85, 6.15, 160.00, 0.00, '', ''),
(138, 103, 1, 10, 28.50, 0.00, 0.00, 4.00, 272.64, 10.91, 283.55, 0.00, '', ''),
(139, 103, 4, 5, 3.20, 0.00, 0.00, 4.00, 15.31, 0.61, 15.92, 0.00, '', ''),
(140, 103, 3, 10, 5.90, 0.00, 0.00, 4.00, 56.44, 2.26, 58.70, 0.00, '', ''),
(141, 109, 3, 5, 5.90, 0.00, 0.00, 4.00, 27.06, 1.08, 28.14, 0.00, '', ''),
(142, 109, 1, 10, 28.50, 0.00, 0.00, 4.00, 261.40, 10.46, 271.86, 0.00, '', ''),
(143, 110, 7, 2, 16.00, 0.00, 0.00, 4.00, 29.51, 1.18, 30.69, 0.00, '', ''),
(144, 110, 6, 2, 28.50, 0.00, 0.00, 4.00, 52.56, 2.10, 54.66, 0.00, '', ''),
(145, 110, 1, 2, 28.50, 0.00, 0.00, 4.00, 52.56, 2.10, 54.66, 0.00, '', ''),
(146, 111, 5, 12, 4.30, 0.00, 0.00, 4.00, 49.62, 1.98, 51.60, 0.00, '', ''),
(147, 111, 4, 10, 3.20, 0.00, 0.00, 4.00, 30.77, 1.23, 32.00, 0.00, '', ''),
(148, 112, 1, 4, 28.50, 0.00, 0.00, 4.00, 109.62, 4.38, 114.00, 0.00, '', ''),
(149, 113, 1, 4, 28.50, 0.00, 0.00, 4.00, 109.62, 4.38, 114.00, 0.00, '', ''),
(150, 114, 1, 4, 28.50, 0.00, 0.00, 4.00, 109.62, 4.38, 114.00, 0.00, '', ''),
(151, 115, 1, 2, 28.50, 0.00, 0.00, 4.00, 54.81, 2.19, 57.00, 0.00, '', ''),
(152, 116, 1, 19, 28.50, 0.00, 0.00, 4.00, 520.67, 20.83, 541.50, 0.00, '', ''),
(153, 117, 1, 4, 28.50, 0.00, 0.00, 4.00, 109.62, 4.38, 114.00, 0.00, '', ''),
(154, 8, 1, 1, 28.50, 0.00, 0.00, 4.00, 17.79, 0.71, 18.50, 0.00, 'Pendiente', '');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `direcciones_envio`
--

CREATE TABLE `direcciones_envio` (
  `id_direccion_envio` int(11) NOT NULL,
  `id_cliente` int(11) NOT NULL,
  `nombre_direccion` varchar(255) NOT NULL,
  `direccion` varchar(255) NOT NULL,
  `ciudad` varchar(100) DEFAULT NULL,
  `provincia` varchar(100) DEFAULT NULL,
  `codigo_postal` varchar(20) DEFAULT NULL,
  `latitud` decimal(10,7) DEFAULT NULL,
  `longitud` decimal(11,8) DEFAULT NULL,
  `direccion_google_maps` varchar(500) DEFAULT NULL,
  `es_principal` tinyint(1) DEFAULT 0,
  `telefono` varchar(20) DEFAULT NULL,
  `observaciones` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `direcciones_envio`
--

INSERT INTO `direcciones_envio` (`id_direccion_envio`, `id_cliente`, `nombre_direccion`, `direccion`, `ciudad`, `provincia`, `codigo_postal`, `latitud`, `longitud`, `direccion_google_maps`, `es_principal`, `telefono`, `observaciones`) VALUES
(1, 7, 'Janina Stempel', 'ul. Morcinka 5', 'Jawora', 'Polska', '59-400', 51.0421730, 16.19029500, 'Morcinka 5, 59-400 Jawor, Polonia', 0, NULL, NULL),
(2, 7, 'OCA PEREA JOSÉ', '46 route de Saizerais à Liverdun 54460 francia', '', '', '', 48.7501610, 6.06280600, '54460 Liverdun, Francia', 0, NULL, NULL),
(3, 7, 'MARISOL FREIRE PONCE', 'C/ CAPILLA, 20  15550 MEIRAS-VALDOVINO  A CORUÑA', '', '', '', 43.5808372, -8.18919150, 'Capilla, 20, 15550 Valdoviño, La Coruña, España', 0, NULL, NULL),
(4, 7, 'JUAN MATEO FERNÁNDEZ', 'C/ ANTONIO MUÑOZ QUERO, 2 - 11 D', 'cadiz', '', '', 36.5108310, -6.27485690, 'Cl. Antonio Muñoz Quero, 2, 11 d, 11012 Cádiz, España', 0, NULL, NULL),
(5, 7, 'Catalina Medinilla Rodríguez', 'C/ Polavieja , 22', 'Benalup Casas Viejas', 'CADIZ', '11190', 36.3412751, -5.81162490, 'C. Polavieja, 22, 11190 Benalup-Casas Viejas, Cádiz, España', 0, NULL, NULL),
(6, 18, 'BARRAGAN LOPEZ FRANCISCO', 'C/ MOZART, 7', 'JEREZ DE LA FRONTERA', 'CADIZ', '41006', 36.6809158, -6.11148530, 'C. Mozart, 7, 11406 Jerez de la Frontera, Cádiz, España', 0, NULL, NULL),
(7, 18, 'FRANCISCO MORENO GARCIA', 'C/ MONTEALEGRE, 17', 'JEREZ DE LA FRONTERA', 'CADIZ', '11406', 36.6844615, -6.12009670, 'C. Montealegre, 17, 11406 Jerez de la Frontera, Cádiz, España', 0, NULL, NULL),
(8, 18, 'FRANCISCO GONZALEZ', 'C/ ISABELITA RUIZ - 1 HUELVA 3 - 2º F', 'JEREZ DE LA FRONTERA', 'CADIZ', '', 36.6928400, -6.12930150, 'C. Isabelita Ruiz, 1, 11405 Jerez de la Frontera, Cádiz, España', 0, NULL, NULL),
(9, 18, 'ROYAN SERRANO MARIA PA', 'Calle Sirius 1', 'JEREZ DE LA FRONTERA', 'CADIZ', '11405', 36.7013792, -6.11703040, 'C. Sirius, 1, 11405 Jerez de la Frontera, Cádiz, España', 0, NULL, NULL),
(10, 18, 'SETO GARRIDO LUISA', 'AVDA. SAN JOSE OBRERO 1', 'JEREZ DE LA FRONTERA', 'CADIZ', '11648', 36.7053755, -6.10730230, 'Av. San José Obrero, 1, 11405 Jerez de la Frontera, Cádiz, España', 0, NULL, NULL),
(11, 18, 'DIEGO HEREDIA', 'C/ ERMITA LA YEDRA, 12', 'JEREZ DE LA FRONTERA', 'CADIZ', '', 36.6721999, -6.13248530, 'C. Beato Diego de Cádiz, 20, 11408 Jerez de la Frontera, Cádiz, España', 0, NULL, NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `entradas_granel`
--

CREATE TABLE `entradas_granel` (
  `id_entrada_granel` int(11) NOT NULL,
  `fecha_entrada` date NOT NULL,
  `id_proveedor` int(11) NOT NULL,
  `kg_recibidos` decimal(10,2) NOT NULL,
  `litros_equivalentes` decimal(10,2) GENERATED ALWAYS AS (`kg_recibidos` / 0.916) STORED,
  `numero_lote_proveedor` varchar(100) DEFAULT NULL,
  `numero_albaran_proveedor` varchar(100) DEFAULT NULL,
  `id_materia_prima` int(11) NOT NULL,
  `observaciones` text DEFAULT NULL,
  `ruta_albaran_pdf` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `entradas_granel`
--

INSERT INTO `entradas_granel` (`id_entrada_granel`, `fecha_entrada`, `id_proveedor`, `kg_recibidos`, `numero_lote_proveedor`, `numero_albaran_proveedor`, `id_materia_prima`, `observaciones`, `ruta_albaran_pdf`) VALUES
(49, '2025-07-10', 1, 5496.00, 'lote 1 2024/2025', NULL, 2, '', 'uploads/albaranes/albaran_686ffbd52cee42.61968397.pdf'),
(50, '2025-07-10', 1, 6000.00, 'lote 2 2024/2025', NULL, 2, '', 'uploads/albaranes/albaran_686ffc87178384.92134621.pdf'),
(51, '2025-07-10', 1, 6000.00, 'Lote3 2024/2025', NULL, 2, '', 'uploads/albaranes/albaran_687000a8a6f5d1.56596118.pdf'),
(52, '2025-07-11', 2, 3000.00, 'MIG-AOOR-2025', NULL, 4, '', 'uploads/albaranes/albaran_687136da5de477.20043736.pdf'),
(53, '2025-07-11', 2, 916.00, 'MIG-AOR-2025', NULL, 3, '', 'uploads/albaranes/albaran_68713716e60729.83636152.pdf'),
(54, '2025-07-20', 1, 5496.00, 'LOTE 4', NULL, 2, '', 'uploads/albaranes/albaran_687c8b217d5d68.54103464.pdf');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `facturas_ventas`
--

CREATE TABLE `facturas_ventas` (
  `id_factura` int(11) NOT NULL,
  `fecha_factura` date NOT NULL,
  `id_cliente` int(11) NOT NULL,
  `total_factura` decimal(10,2) NOT NULL DEFAULT 0.00,
  `estado_pago` enum('pendiente','pagada','parcialmente_pagada') DEFAULT 'pendiente',
  `id_pedido_origen` int(11) DEFAULT NULL,
  `id_parte_ruta_origen` int(11) DEFAULT NULL,
  `descuento_global_aplicado` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT 'Importe del descuento global aplicado a la factura.',
  `recargo_global_aplicado` decimal(10,2) NOT NULL DEFAULT 0.00,
  `total_iva_factura` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT 'Suma total del IVA de todas las líneas de la factura.',
  `total_factura_iva_incluido` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT 'Importe final de la factura con IVA y descuento global aplicados.',
  `id_direccion_envio` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `facturas_ventas`
--

INSERT INTO `facturas_ventas` (`id_factura`, `fecha_factura`, `id_cliente`, `total_factura`, `estado_pago`, `id_pedido_origen`, `id_parte_ruta_origen`, `descuento_global_aplicado`, `recargo_global_aplicado`, `total_iva_factura`, `total_factura_iva_incluido`, `id_direccion_envio`) VALUES
(1, '2025-07-11', 3, 48.50, 'pagada', NULL, NULL, 10.00, 0.00, 1.87, 48.50, NULL),
(2, '2025-07-11', 3, 583.50, 'pagada', NULL, NULL, 15.00, 0.00, 22.44, 583.50, NULL),
(3, '2025-07-12', 11, 245.00, 'pagada', NULL, NULL, 40.00, 0.00, 9.42, 245.00, NULL),
(4, '2025-07-12', 4, 285.00, 'pagada', NULL, NULL, 0.00, 0.00, 10.96, 285.00, NULL),
(5, '2025-07-12', 4, 126.00, 'pagada', NULL, NULL, 0.00, 12.00, 4.85, 126.00, NULL),
(6, '2025-07-12', 3, 696.00, 'pagada', NULL, NULL, 0.00, 0.00, 26.77, 696.00, NULL),
(7, '2025-07-12', 11, 53.85, 'pagada', NULL, NULL, 0.00, 40.00, 2.15, 56.00, NULL),
(8, '2025-07-12', 14, 285.00, 'pagada', NULL, NULL, 0.00, 0.00, 10.96, 285.00, NULL),
(9, '2025-07-12', 14, 160.00, 'pagada', NULL, NULL, 0.00, 0.00, 6.15, 160.00, NULL),
(10, '2025-07-12', 14, 16.64, 'pagada', NULL, NULL, 0.00, 0.00, 0.64, 16.64, NULL),
(11, '2025-07-12', 4, 264.44, 'pagada', NULL, NULL, 10.00, 0.00, 10.56, 275.00, NULL),
(12, '2025-07-12', 6, 275.00, 'pagada', NULL, NULL, 10.00, 0.00, 10.58, 275.00, NULL),
(13, '2025-07-12', 14, 285.00, 'pagada', NULL, NULL, 0.00, 0.00, 10.96, 285.00, NULL),
(16, '2025-07-12', 3, 47.12, 'pagada', NULL, NULL, 10.00, 0.00, 1.88, 49.00, NULL),
(19, '2025-07-12', 7, 1909.23, 'pagada', 13, 1, 0.00, 0.00, 73.43, 1909.23, NULL),
(21, '2025-07-12', 7, 2849.60, 'pagada', 14, 1, 0.00, 0.00, 109.60, 2849.60, NULL),
(22, '2025-07-13', 4, 1231.63, 'pagada', 15, 1, 0.00, 0.00, 47.37, 1231.63, NULL),
(23, '2025-07-13', 6, 1081.42, 'pagada', 16, 1, 10.00, 30.00, 41.59, 1081.42, NULL),
(24, '2025-07-13', 7, 1024.50, 'pagada', 17, 1, 0.00, 30.00, 39.40, 1024.50, NULL),
(25, '2025-07-13', 3, 296.40, 'pagada', NULL, NULL, 0.00, 0.00, 11.40, 296.40, NULL),
(26, '2025-07-13', 4, 264.40, 'pagada', NULL, NULL, 10.00, 0.00, 10.56, 274.96, NULL),
(27, '2025-07-13', 14, 264.44, 'pagada', NULL, NULL, 10.00, 0.00, 10.56, 275.00, NULL),
(28, '2025-07-13', 7, 56.25, 'pagada', 18, 1, 0.00, 0.00, 2.25, 58.50, NULL),
(29, '2025-07-14', 7, 567.34, 'pagada', 23, NULL, 0.00, 0.00, 22.66, 590.00, NULL),
(30, '2025-07-14', 6, 567.34, 'pagada', 22, NULL, 0.00, 0.00, 22.66, 590.00, NULL),
(31, '2025-07-14', 14, 17.89, 'pagada', 27, NULL, 0.00, 10.00, 0.71, 18.60, NULL),
(32, '2025-07-14', 3, 32.12, 'pagada', 26, NULL, 0.00, 10.00, 1.28, 33.40, NULL),
(33, '2025-07-14', 4, 45.20, 'pagada', 25, NULL, 0.00, 15.00, 1.80, 47.00, NULL),
(34, '2025-07-14', 4, 102.89, 'pagada', 12, 2, 10.00, 0.00, 4.11, 107.00, NULL),
(35, '2025-07-14', 14, 17.31, 'pagada', 6, 1, 0.00, 2.00, 0.69, 18.00, NULL),
(36, '2025-07-14', 3, 41.35, 'pagada', 2, 2, 5.00, 5.00, 1.65, 43.00, NULL),
(37, '2025-07-14', 6, 158.66, 'pagada', 3, 1, 0.00, 5.00, 6.34, 165.00, NULL),
(39, '2025-07-15', 4, 112.51, 'pagada', 19, 2, 0.00, 0.00, 4.49, 117.00, NULL),
(40, '2025-07-15', 14, 283.67, 'pagada', 29, 1, 10.00, 20.00, 11.33, 295.00, NULL),
(41, '2025-07-16', 4, 20.67, 'pagada', 46, 19, 0.00, 0.00, 0.83, 21.50, NULL),
(42, '2025-07-16', 14, 41.35, 'pagada', 43, 18, 0.00, 0.00, 1.65, 43.00, NULL),
(43, '2025-07-16', 13, 41.35, 'pagada', 44, 1, 0.00, 0.00, 1.65, 43.00, NULL),
(44, '2025-07-16', 6, 264.44, 'pagada', 33, 1, 10.00, 0.00, 10.56, 275.00, NULL),
(45, '2025-07-16', 7, 274.06, 'pagada', 34, 1, 0.00, 0.00, 10.94, 285.00, NULL),
(46, '2025-07-16', 14, 274.06, 'pagada', 45, 1, 0.00, 0.00, 10.94, 285.00, NULL),
(47, '2025-07-17', 14, 274.06, 'pagada', 50, NULL, 0.00, 0.00, 10.94, 285.00, NULL),
(48, '2025-07-18', 3, 112.51, 'pagada', NULL, NULL, 0.00, 0.00, 4.49, 117.00, NULL),
(53, '2025-07-18', 3, 38.66, 'pagada', NULL, NULL, 0.00, 0.00, 1.54, 40.20, NULL),
(54, '2025-07-18', 16, 50.00, 'pagada', NULL, NULL, 5.00, 0.00, 2.00, 52.00, NULL),
(55, '2025-07-18', 16, 15.39, 'pagada', NULL, NULL, 0.00, 0.00, 0.61, 16.00, NULL),
(60, '2025-07-18', 16, 274.06, 'pagada', 62, NULL, 0.00, 0.00, 10.94, 285.00, NULL),
(61, '2025-07-18', 16, 17.69, 'pagada', 63, NULL, 5.00, 0.00, 0.71, 18.40, NULL),
(62, '2025-07-18', 16, 11.25, 'pagada', 65, 1, 0.00, 0.00, 0.45, 11.70, NULL),
(64, '2025-07-18', 16, 219.15, 'pagada', 67, NULL, 0.00, 0.00, 8.75, 227.90, NULL),
(65, '2025-07-18', 16, 22.50, 'pagada', 68, 1, 0.00, 0.00, 0.90, 23.40, NULL),
(66, '2025-07-18', 16, 30.77, 'pagada', 69, NULL, 0.00, 0.00, 1.23, 32.00, NULL),
(67, '2025-07-19', 14, 27.41, 'pagada', NULL, NULL, 0.00, 0.00, 1.09, 28.50, NULL),
(68, '2025-07-19', 9, 0.00, 'pagada', NULL, NULL, 0.00, 0.00, 0.00, 0.00, NULL),
(69, '2025-07-19', 6, 112.51, 'pagada', 42, 17, 0.00, 0.00, 4.49, 117.00, NULL),
(70, '2025-07-19', 14, 21.16, 'pagada', 61, NULL, 10.00, 0.00, 0.84, 22.00, NULL),
(71, '2025-07-19', 14, 76.93, 'pagada', 58, NULL, 5.50, 0.00, 3.07, 80.00, NULL),
(72, '2025-07-19', 7, 112.51, 'pagada', NULL, NULL, 0.00, 0.00, 4.49, 117.00, NULL),
(73, '2025-07-19', 17, 11.25, 'pagada', NULL, NULL, 0.00, 0.00, 0.45, 11.70, NULL),
(74, '2025-07-19', 14, 112.51, 'pagada', 60, NULL, 0.00, 0.00, 4.49, 117.00, NULL),
(75, '2025-07-19', 14, 112.51, 'pagada', 57, NULL, 0.00, 0.00, 4.49, 117.00, NULL),
(76, '2025-07-19', 14, 330.79, 'pagada', 71, NULL, 0.00, 0.00, 13.21, 344.00, NULL),
(77, '2025-07-19', 17, 584.65, 'pendiente', 72, NULL, 0.00, 0.00, 23.35, 608.00, NULL),
(78, '2025-07-19', 3, 413.49, 'pendiente', 73, NULL, 0.00, 0.00, 16.51, 430.00, NULL),
(80, '2025-07-19', 4, 307.71, 'pendiente', 74, NULL, 0.00, 0.00, 12.29, 320.00, NULL),
(81, '2025-07-19', 3, 413.49, 'pendiente', 77, NULL, 0.00, 0.00, 16.51, 430.00, NULL),
(82, '2025-07-19', 3, 153.86, 'pendiente', 78, NULL, 0.00, 0.00, 6.14, 160.00, NULL),
(83, '2025-07-19', 4, 30.77, 'pendiente', 76, NULL, 0.00, 0.00, 1.23, 32.00, NULL),
(87, '2025-07-19', 16, 5.67, 'pendiente', 64, NULL, 0.00, 0.00, 0.23, 5.90, NULL),
(88, '2025-07-19', 16, 9.62, 'pagada', 66, NULL, 5.90, 10.00, 0.38, 10.00, NULL),
(89, '2025-07-19', 16, 4.13, 'pendiente', 67, NULL, 0.00, 0.00, 0.17, 4.30, NULL),
(90, '2025-07-19', 14, 30.77, 'pagada', 79, NULL, 0.00, 0.00, 1.23, 32.00, NULL),
(92, '2025-07-19', 7, 24.62, 'pagada', 80, NULL, 0.00, 0.00, 0.98, 25.60, NULL),
(94, '2025-07-19', 7, 6.15, 'pagada', 81, NULL, 0.00, 0.00, 0.25, 6.40, NULL),
(95, '2025-07-19', 7, 112.51, 'pagada', NULL, NULL, 0.00, 0.00, 4.49, 117.00, NULL),
(96, '2025-07-19', 6, 611.48, 'pagada', 24, 20, 0.00, 40.00, 24.42, 635.90, NULL),
(97, '2025-07-19', 4, 78.56, 'pendiente', 85, NULL, 0.00, 0.00, 3.14, 81.70, NULL),
(98, '2025-07-19', 7, 30.77, 'pendiente', 89, NULL, 0.00, 0.00, 1.23, 32.00, NULL),
(99, '2025-07-19', 7, 30.77, 'pendiente', 90, NULL, 0.00, 0.00, 1.23, 32.00, NULL),
(100, '2025-07-19', 7, 61.54, 'pendiente', 88, NULL, 0.00, 0.00, 2.46, 64.00, NULL),
(101, '2025-07-19', 7, 30.77, 'pendiente', 87, NULL, 0.00, 0.00, 1.23, 32.00, NULL),
(102, '2025-07-19', 4, 4.13, 'pendiente', 86, NULL, 0.00, 0.00, 0.17, 4.30, NULL),
(103, '2025-07-19', 7, 9.23, 'pendiente', 82, NULL, 0.00, 0.00, 0.37, 9.60, NULL),
(104, '2025-07-19', 3, 37.21, 'pendiente', 73, NULL, 0.00, 0.00, 1.49, 38.70, NULL),
(105, '2025-07-19', 17, 3.08, 'pendiente', 72, NULL, 0.00, 0.00, 0.12, 3.20, NULL),
(106, '2025-07-19', 14, 6.15, 'pagada', 59, NULL, 0.00, 0.00, 0.25, 6.40, NULL),
(107, '2025-07-19', 14, 6.15, 'pagada', 71, NULL, 0.00, 0.00, 0.25, 6.40, NULL),
(108, '2025-07-19', 4, 56.73, 'pagada', NULL, NULL, 0.00, 0.00, 2.27, 59.00, NULL),
(109, '2025-07-20', 3, 4.13, 'pendiente', 91, NULL, 0.00, 0.00, 0.17, 4.30, NULL),
(110, '2025-07-20', 7, 82.22, 'pagada', 70, NULL, 0.00, 0.00, 3.28, 85.50, NULL),
(111, '2025-07-20', 4, 6.15, 'pagada', 21, NULL, 0.00, 0.00, 0.25, 6.40, NULL),
(112, '2025-07-20', 14, 45.20, 'pagada', 47, 1, 10.00, 0.00, 1.80, 47.00, NULL),
(113, '2025-07-20', 14, 105.78, 'pagada', 48, 1, 30.40, 0.00, 4.22, 110.00, NULL),
(114, '2025-07-20', 14, 182.22, 'pagada', 49, 1, 10.00, 0.00, 7.28, 189.50, NULL),
(115, '2025-07-20', 12, 328.87, 'pagada', 92, 21, 0.00, 0.00, 13.13, 342.00, NULL),
(116, '2025-07-20', 13, 16.54, 'pagada', 93, 21, 0.00, 0.00, 0.66, 17.20, NULL),
(117, '2025-07-20', 11, 109.62, 'pagada', 94, 21, 0.00, 0.00, 4.38, 114.00, NULL),
(118, '2025-07-20', 7, 22.50, 'pagada', 41, 1, 0.00, 0.00, 0.90, 23.40, NULL),
(119, '2025-07-20', 14, 264.44, 'pagada', 32, 1, 10.00, 0.00, 10.56, 275.00, NULL),
(120, '2025-07-20', 3, 15.39, 'pendiente', 95, NULL, 0.00, 0.00, 0.61, 16.00, NULL),
(121, '2025-07-20', 14, 274.06, 'pagada', 83, 22, 0.00, 0.00, 10.94, 285.00, NULL),
(122, '2025-07-20', 14, 191.84, 'pagada', 84, 22, 0.00, 0.00, 7.66, 199.50, NULL),
(123, '2025-07-20', 3, 22.50, 'pagada', 40, 1, 0.00, 0.00, 0.90, 23.40, NULL),
(124, '2025-07-20', 14, 264.44, 'pagada', 30, 1, 10.00, 0.00, 10.56, 275.00, NULL),
(125, '2025-07-20', 4, 54.81, 'pagada', 56, NULL, 0.00, 0.00, 2.19, 57.00, NULL),
(126, '2025-07-20', 7, 112.51, 'pagada', 39, 1, 0.00, 0.00, 4.49, 117.00, NULL),
(127, '2025-07-20', 3, 274.06, 'pagada', 31, 8, 0.00, 0.00, 10.94, 285.00, NULL),
(128, '2025-07-20', 17, 598.12, 'pendiente', 96, NULL, 0.00, 0.00, 23.88, 622.00, NULL),
(129, '2025-07-20', 4, 27.41, 'pendiente', 55, NULL, 0.00, 0.00, 1.09, 28.50, NULL),
(130, '2025-07-20', 3, 112.51, 'pagada', 54, NULL, 0.00, 0.00, 4.49, 117.00, NULL),
(131, '2025-07-20', 4, 11.35, 'pagada', 53, NULL, 0.00, 0.00, 0.45, 11.80, NULL),
(132, '2025-07-20', 6, 112.51, 'pagada', 52, NULL, 0.00, 0.00, 4.49, 117.00, NULL),
(133, '2025-07-20', 4, 30.77, 'pagada', 51, NULL, 0.00, 0.00, 1.23, 32.00, NULL),
(134, '2025-07-20', 7, 274.06, 'pagada', 35, 11, 0.00, 0.00, 10.94, 285.00, NULL),
(135, '2025-07-20', 6, 11.35, 'pagada', 36, 1, 0.00, 0.00, 0.45, 11.80, NULL),
(136, '2025-07-20', 7, 274.06, 'pagada', 37, 12, 0.00, 0.00, 10.94, 285.00, NULL),
(137, '2025-07-20', 6, 274.06, 'pagada', 38, 13, 0.00, 0.00, 10.94, 285.00, NULL),
(138, '2025-07-20', 3, 56.25, 'pagada', 97, NULL, 0.00, 0.00, 2.25, 58.50, NULL),
(139, '2025-07-20', 3, 68.08, 'pagada', 98, NULL, 0.00, 0.00, 2.72, 70.80, NULL),
(140, '2025-07-20', 17, 46.16, 'pagada', 99, NULL, 0.00, 0.00, 1.84, 48.00, NULL),
(141, '2025-07-20', 7, 0.00, 'pagada', NULL, NULL, 0.00, 0.00, 0.00, 0.00, NULL),
(142, '2025-07-20', 7, 4.13, 'pagada', 104, NULL, 0.00, 0.00, 0.17, 4.30, NULL),
(143, '2025-07-20', 7, 54.81, 'pagada', 100, 1, 0.00, 0.00, 2.19, 57.00, NULL),
(144, '2025-07-20', 7, 30.77, 'pagada', NULL, NULL, 0.00, 0.00, 1.23, 32.00, 4),
(145, '2025-07-20', 7, 5.67, 'pagada', 105, NULL, 0.00, 0.00, 0.23, 5.90, 4),
(146, '2025-07-21', 7, 30.77, 'pagada', 106, 24, 0.00, 0.00, 1.23, 32.00, 5),
(147, '2025-07-21', 7, 54.81, 'pagada', 107, 24, 0.00, 0.00, 2.19, 57.00, 4),
(148, '2025-07-21', 4, 274.06, 'pagada', 108, 24, 0.00, 0.00, 10.94, 285.00, NULL),
(149, '2025-07-22', 17, 153.86, 'pagada', 101, 25, 0.00, 0.00, 6.14, 160.00, NULL),
(150, '2025-07-22', 7, 102.89, 'pagada', 102, 25, 10.00, 0.00, 4.11, 107.00, 3),
(151, '2025-07-22', 17, 375.02, 'pagada', 103, 25, 2.00, 0.00, 14.98, 390.00, NULL),
(152, '2025-07-22', 7, 288.48, 'pagada', 109, 25, 14.50, 0.00, 11.52, 300.00, 4),
(153, '2025-07-22', 7, 134.62, 'pagada', 110, 25, 6.00, 0.00, 5.38, 140.00, 5),
(154, '2025-07-22', 9, 80.39, 'pagada', 111, 25, 0.00, 0.00, 3.21, 83.60, NULL),
(155, '2025-07-24', 18, 109.62, 'pagada', 112, 26, 0.00, 0.00, 4.38, 114.00, 6),
(156, '2025-07-24', 18, 109.62, 'pagada', 113, 26, 0.00, 0.00, 4.38, 114.00, 7),
(157, '2025-07-24', 18, 109.62, 'pagada', 114, 26, 0.00, 0.00, 4.38, 114.00, 8),
(158, '2025-07-24', 18, 54.81, 'pagada', 115, 26, 0.00, 0.00, 2.19, 57.00, 9),
(159, '2025-07-24', 18, 520.71, 'pagada', 116, 26, 0.00, 0.00, 20.79, 541.50, 10),
(160, '2025-07-24', 18, 109.62, 'pagada', 117, 26, 0.00, 0.00, 4.38, 114.00, 11);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `formas_pago`
--

CREATE TABLE `formas_pago` (
  `id_forma_pago` int(11) NOT NULL,
  `nombre_forma_pago` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `formas_pago`
--

INSERT INTO `formas_pago` (`id_forma_pago`, `nombre_forma_pago`) VALUES
(4, 'Bizum'),
(1, 'Contado'),
(3, 'Tarjeta de Crédito'),
(2, 'Transferencia Bancaria');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `lotes_envasado`
--

CREATE TABLE `lotes_envasado` (
  `id_lote_envasado` int(11) NOT NULL,
  `nombre_lote` varchar(100) NOT NULL,
  `fecha_creacion` date DEFAULT current_timestamp(),
  `id_deposito_mezcla` int(11) NOT NULL,
  `id_articulo` int(11) NOT NULL,
  `litros_preparados` decimal(10,2) NOT NULL,
  `observaciones` text DEFAULT NULL,
  `stock_actual_litros` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT 'Cantidad actual de litros disponibles en este lote'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `lotes_envasado`
--

INSERT INTO `lotes_envasado` (`id_lote_envasado`, `nombre_lote`, `fecha_creacion`, `id_deposito_mezcla`, `id_articulo`, `litros_preparados`, `observaciones`, `stock_actual_litros`) VALUES
(23, '300', '2025-07-11', 8, 2, 6000.00, '', 0.00),
(24, '301', '2025-07-11', 9, 2, 6000.00, '', 0.00),
(25, '302', '2025-07-11', 10, 2, 6000.00, '', 0.00),
(26, '10', '2025-07-11', 15, 3, 1000.00, '', 0.00),
(27, '30', '2025-07-12', 16, 4, 1000.00, '', 0.00),
(28, '25 AO', '2025-07-20', 15, 3, 1000.00, '', 0.00);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `materias_primas`
--

CREATE TABLE `materias_primas` (
  `id_materia_prima` int(11) NOT NULL,
  `nombre_materia_prima` varchar(100) NOT NULL,
  `unidad_medida` varchar(50) NOT NULL,
  `stock_actual` decimal(10,2) NOT NULL DEFAULT 0.00,
  `stock_minimo` decimal(10,2) NOT NULL DEFAULT 0.00,
  `precio_unitario` decimal(10,2) NOT NULL DEFAULT 0.00
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `materias_primas`
--

INSERT INTO `materias_primas` (`id_materia_prima`, `nombre_materia_prima`, `unidad_medida`, `stock_actual`, `stock_minimo`, `precio_unitario`) VALUES
(1, 'Aceite de Oliva Virgen', 'KGS', 0.00, 0.00, 0.00),
(2, 'Aceite de Oliva Virgen Extra', 'KGS', 4946.40, 0.00, 0.00),
(3, 'Aceite de Oliva Refinado', 'KGS', 0.00, 0.00, 0.00),
(4, 'Aceite de Orujo de Oliva Refinado', 'KGS', 2725.60, 0.00, 0.00);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `movimientos_caja_varios`
--

CREATE TABLE `movimientos_caja_varios` (
  `id_movimiento` int(11) NOT NULL,
  `fecha_movimiento` date NOT NULL,
  `tipo_movimiento` enum('ingreso','pago') NOT NULL,
  `cantidad` decimal(10,2) NOT NULL,
  `descripcion` text DEFAULT NULL,
  `fecha_registro` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `partes_paqueteria`
--

CREATE TABLE `partes_paqueteria` (
  `id_parte_paqueteria` int(11) NOT NULL,
  `fecha_recogida` date NOT NULL,
  `empresa_transporte` varchar(255) NOT NULL,
  `observaciones` text DEFAULT NULL,
  `fecha_creacion` timestamp NOT NULL DEFAULT current_timestamp(),
  `estado_parte` enum('creado','en_transito','finalizado') DEFAULT 'creado'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_spanish2_ci;

--
-- Volcado de datos para la tabla `partes_paqueteria`
--

INSERT INTO `partes_paqueteria` (`id_parte_paqueteria`, `fecha_recogida`, `empresa_transporte`, `observaciones`, `fecha_creacion`, `estado_parte`) VALUES
(1, '2025-07-14', 'TYPSA', '', '2025-07-14 16:03:56', 'finalizado'),
(2, '2025-07-14', 'TYPSA', '', '2025-07-14 19:30:45', 'finalizado'),
(3, '2025-07-17', 'TYPSA', '', '2025-07-17 15:07:53', 'finalizado'),
(4, '2025-07-19', 'TYPSA', '', '2025-07-19 17:38:35', 'finalizado'),
(5, '2025-07-20', 'TYPSA', '', '2025-07-20 09:45:51', 'finalizado'),
(6, '2025-07-20', 'TYPSA', '', '2025-07-20 10:05:24', 'en_transito'),
(7, '2025-07-20', 'tipsa', '', '2025-07-20 14:56:04', 'finalizado');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `partes_paqueteria_pedidos`
--

CREATE TABLE `partes_paqueteria_pedidos` (
  `id_parte_paqueteria_pedido` int(11) NOT NULL,
  `id_parte_paqueteria` int(11) NOT NULL,
  `id_pedido` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_spanish2_ci;

--
-- Volcado de datos para la tabla `partes_paqueteria_pedidos`
--

INSERT INTO `partes_paqueteria_pedidos` (`id_parte_paqueteria_pedido`, `id_parte_paqueteria`, `id_pedido`) VALUES
(2, 1, 22),
(1, 1, 23),
(5, 2, 25),
(4, 2, 26),
(3, 2, 27),
(7, 3, 50),
(10, 4, 21),
(9, 4, 70),
(15, 5, 51),
(14, 5, 52),
(13, 5, 53),
(12, 5, 54),
(11, 5, 55),
(16, 6, 98),
(17, 7, 99);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `partes_ruta`
--

CREATE TABLE `partes_ruta` (
  `id_parte_ruta` int(11) NOT NULL,
  `id_ruta` int(11) NOT NULL,
  `fecha_parte` date NOT NULL,
  `observaciones` text DEFAULT NULL,
  `estado` varchar(50) DEFAULT 'Pendiente',
  `fecha_creacion` timestamp NOT NULL DEFAULT current_timestamp(),
  `total_kilometros` float DEFAULT 0,
  `duracion_estimada_segundos` int(11) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `partes_ruta`
--

INSERT INTO `partes_ruta` (`id_parte_ruta`, `id_ruta`, `fecha_parte`, `observaciones`, `estado`, `fecha_creacion`, `total_kilometros`, `duracion_estimada_segundos`) VALUES
(1, 1, '2025-07-12', '', 'Completado', '2025-07-12 07:43:22', 0, 0),
(2, 3, '2025-07-14', '', 'Completado', '2025-07-14 20:20:08', 0, 0),
(6, 1, '2025-07-15', '', 'Completado', '2025-07-15 20:50:50', 0, 0),
(7, 1, '2025-07-15', '', 'Completado', '2025-07-15 20:51:08', 0, 0),
(8, 1, '2025-07-15', '', 'Completado', '2025-07-15 20:51:32', 0, 0),
(9, 1, '2025-07-15', '', 'Completado', '2025-07-15 20:51:57', 0, 0),
(10, 1, '2025-07-15', '', 'Completado', '2025-07-15 21:53:23', 0, 0),
(11, 1, '2025-07-16', '', 'Completado', '2025-07-15 22:27:10', 0, 0),
(12, 1, '2025-07-16', '', 'Completado', '2025-07-15 22:40:28', 0, 0),
(13, 1, '2025-07-16', '', 'Completado', '2025-07-15 22:50:56', 0, 0),
(14, 1, '2025-07-16', '', 'Completado', '2025-07-15 22:54:01', 0, 0),
(15, 1, '2025-07-16', '', 'Completado', '2025-07-15 23:04:56', 0, 0),
(16, 1, '2025-07-16', '', 'Completado', '2025-07-15 23:18:42', 0, 0),
(17, 1, '2025-07-16', '', 'Completado', '2025-07-16 13:56:33', 0, 0),
(18, 1, '2025-07-16', '', 'Completado', '2025-07-16 15:16:47', 0, 0),
(19, 1, '2025-07-16', '', 'Completado', '2025-07-16 17:36:25', 0, 0),
(20, 1, '2025-07-19', '', 'Completado', '2025-07-19 17:39:51', 0, 0),
(21, 1, '2025-07-20', '', 'Completado', '2025-07-20 07:46:46', 0, 0),
(22, 1, '2025-07-20', '', 'Completado', '2025-07-20 08:32:10', 0, 0),
(23, 1, '2025-07-20', '', 'Completado', '2025-07-20 19:22:57', 0, 0),
(24, 3, '2025-07-20', '', 'Completado', '2025-07-20 20:52:44', 0, 0),
(25, 1, '2025-07-21', '', 'Completado', '2025-07-21 19:49:55', 0, 0),
(26, 3, '2025-07-24', '', 'Completado', '2025-07-24 14:30:07', 0, 0);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `partes_ruta_detalle`
--

CREATE TABLE `partes_ruta_detalle` (
  `id_parte_ruta_detalle` int(11) NOT NULL,
  `id_parte_ruta` int(11) NOT NULL,
  `id_pedido` int(11) NOT NULL,
  `estado_pedido_ruta` varchar(50) DEFAULT 'Pendiente',
  `observaciones_detalle` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `partes_ruta_pedidos`
--

CREATE TABLE `partes_ruta_pedidos` (
  `id_parte_ruta_pedido` int(11) NOT NULL,
  `id_parte_ruta` int(11) NOT NULL,
  `id_pedido` int(11) NOT NULL,
  `estado_pedido_ruta` enum('Pendiente','En Ruta','Completado','Entregado','Cancelado') DEFAULT 'Pendiente',
  `observaciones_detalle` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `partes_ruta_pedidos`
--

INSERT INTO `partes_ruta_pedidos` (`id_parte_ruta_pedido`, `id_parte_ruta`, `id_pedido`, `estado_pedido_ruta`, `observaciones_detalle`) VALUES
(1, 1, 1, 'Pendiente', NULL),
(2, 2, 12, 'Pendiente', NULL),
(3, 2, 6, 'Pendiente', NULL),
(4, 2, 2, 'Pendiente', NULL),
(5, 2, 3, 'Pendiente', NULL),
(6, 2, 19, 'Pendiente', NULL),
(7, 2, 21, 'Pendiente', NULL),
(9, 6, 29, 'Pendiente', NULL),
(10, 7, 30, 'Pendiente', NULL),
(11, 8, 31, 'Pendiente', NULL),
(12, 9, 32, 'Pendiente', NULL),
(13, 10, 34, 'Pendiente', NULL),
(14, 10, 33, 'Pendiente', NULL),
(15, 11, 35, 'Pendiente', NULL),
(16, 11, 36, 'Pendiente', NULL),
(17, 12, 37, 'Pendiente', NULL),
(18, 13, 38, 'Pendiente', NULL),
(19, 14, 39, 'Pendiente', NULL),
(20, 15, 40, 'Pendiente', NULL),
(21, 16, 41, 'Pendiente', NULL),
(22, 17, 42, 'Pendiente', NULL),
(26, 18, 43, 'Pendiente', NULL),
(27, 18, 44, 'Pendiente', NULL),
(28, 18, 45, 'Pendiente', NULL),
(30, 19, 46, 'Pendiente', NULL),
(31, 20, 24, 'Pendiente', NULL),
(32, 20, 47, 'Pendiente', NULL),
(33, 20, 48, 'Pendiente', NULL),
(34, 20, 49, 'Pendiente', NULL),
(37, 21, 93, 'Pendiente', NULL),
(38, 21, 94, 'Pendiente', NULL),
(39, 21, 92, 'Pendiente', NULL),
(40, 22, 84, 'Pendiente', NULL),
(41, 22, 83, 'Pendiente', NULL),
(42, 23, 100, 'Pendiente', NULL),
(66, 24, 106, 'Pendiente', NULL),
(67, 24, 107, 'Pendiente', NULL),
(68, 25, 111, 'Pendiente', NULL),
(69, 25, 8, 'Pendiente', NULL),
(70, 25, 7, 'Pendiente', NULL),
(71, 25, 5, 'Pendiente', NULL),
(72, 25, 10, 'Pendiente', NULL),
(73, 25, 9, 'Pendiente', NULL),
(74, 25, 11, 'Pendiente', NULL),
(86, 26, 112, 'Pendiente', NULL),
(87, 26, 113, 'Pendiente', NULL),
(88, 26, 114, 'Pendiente', NULL),
(89, 26, 115, 'Pendiente', NULL),
(90, 26, 116, 'Pendiente', NULL),
(91, 26, 117, 'Pendiente', NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `pedidos`
--

CREATE TABLE `pedidos` (
  `id_pedido` int(11) NOT NULL,
  `id_cliente` int(11) NOT NULL,
  `fecha_pedido` date NOT NULL,
  `estado_pedido` enum('pendiente','completado','cancelado','en_transito_paqueteria') DEFAULT 'pendiente',
  `id_ruta` int(11) DEFAULT NULL COMMENT 'Ruta asignada al pedido',
  `descuento_global_aplicado` decimal(10,2) DEFAULT 0.00,
  `recargo_global_aplicado` decimal(10,2) DEFAULT 0.00,
  `observaciones` text DEFAULT NULL,
  `id_pedido_origen` int(11) DEFAULT NULL,
  `total_pedido` decimal(10,2) DEFAULT 0.00,
  `total_base_imponible_pedido` decimal(10,2) DEFAULT 0.00,
  `total_iva_pedido` decimal(10,2) DEFAULT 0.00,
  `total_pedido_iva_incluido` decimal(10,2) DEFAULT 0.00,
  `id_factura_asociada` int(11) DEFAULT NULL,
  `tipo_entrega` enum('reparto_propio','recogida_cliente','envio_paqueteria','entrega_en_molino') NOT NULL DEFAULT 'reparto_propio',
  `empresa_transporte` varchar(255) DEFAULT NULL,
  `numero_seguimiento` varchar(255) DEFAULT NULL,
  `id_parte_paqueteria_asociada` int(11) DEFAULT NULL,
  `id_pedido_origen_backorder` int(11) DEFAULT NULL COMMENT 'Referencia al ID del pedido original si este es un pedido pendiente de servir (backorder)',
  `total_envases` decimal(10,2) DEFAULT 0.00,
  `total_litros` decimal(10,2) DEFAULT 0.00,
  `id_direccion_envio` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `pedidos`
--

INSERT INTO `pedidos` (`id_pedido`, `id_cliente`, `fecha_pedido`, `estado_pedido`, `id_ruta`, `descuento_global_aplicado`, `recargo_global_aplicado`, `observaciones`, `id_pedido_origen`, `total_pedido`, `total_base_imponible_pedido`, `total_iva_pedido`, `total_pedido_iva_incluido`, `id_factura_asociada`, `tipo_entrega`, `empresa_transporte`, `numero_seguimiento`, `id_parte_paqueteria_asociada`, `id_pedido_origen_backorder`, `total_envases`, `total_litros`, `id_direccion_envio`) VALUES
(1, 11, '2025-07-12', 'pendiente', 1, 0.00, 0.00, NULL, NULL, 418.50, 0.00, 0.00, 0.00, 7, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(2, 3, '2025-07-12', 'pendiente', 1, 5.00, 5.00, NULL, NULL, 0.00, 43.00, 1.72, 44.72, 36, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(3, 6, '2025-07-12', 'pendiente', 1, 0.00, 5.00, NULL, NULL, 0.00, 158.65, 6.35, 165.00, 37, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(4, 14, '2025-07-12', 'pendiente', NULL, 10.00, 0.00, '', NULL, 0.00, 275.00, 11.00, 286.00, 8, '', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(5, 14, '2025-07-12', 'pendiente', 1, 100.00, 0.00, NULL, NULL, 0.00, 60.00, 2.40, 62.40, 9, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(6, 14, '2025-07-12', 'pendiente', 1, 0.00, 2.00, NULL, NULL, 0.00, 17.31, 0.69, 18.00, 35, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(7, 14, '2025-07-12', 'pendiente', 1, 0.00, 10.00, NULL, NULL, 0.00, 283.65, 11.35, 295.00, 13, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(8, 14, '2025-07-12', 'pendiente', 1, 10.00, 0.00, NULL, NULL, 0.00, 17.79, 0.71, 18.50, 10, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 5.00, NULL),
(9, 4, '2025-07-12', 'pendiente', 3, 10.00, 0.00, NULL, NULL, 0.00, 264.42, 10.58, 275.00, 11, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(10, 6, '2025-07-12', 'pendiente', 1, 10.00, 0.00, NULL, NULL, 0.00, 264.42, 10.58, 275.00, 12, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(11, 3, '2025-07-12', 'pendiente', 1, 10.00, 0.00, NULL, NULL, 0.00, 47.12, 1.88, 49.00, 16, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(12, 4, '2025-07-12', 'pendiente', 3, 10.00, 0.00, NULL, NULL, 0.00, 102.88, 4.12, 107.00, 34, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(13, 7, '2025-07-12', 'pendiente', NULL, 0.00, 0.00, '', NULL, 0.00, 1918.27, 76.73, 1995.00, 19, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(14, 7, '2025-07-12', 'pendiente', NULL, 0.00, 0.00, '', NULL, 0.00, 5480.77, 219.23, 5700.00, 21, '', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(15, 4, '2025-07-13', 'pendiente', NULL, 0.00, 0.00, '', NULL, 0.00, 1230.77, 49.23, 1280.00, 22, '', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(16, 6, '2025-07-13', 'pendiente', NULL, 10.00, 30.00, '', NULL, 0.00, 1153.85, 46.15, 1200.00, 23, '', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(17, 7, '2025-07-13', 'pendiente', NULL, 0.00, 30.00, '', NULL, 0.00, 1041.35, 41.65, 1083.00, 24, '', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(18, 7, '2025-07-13', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 56.25, 2.25, 58.50, 28, '', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(19, 4, '2025-07-13', 'pendiente', 3, 0.00, 0.00, NULL, NULL, 0.00, 112.50, 4.50, 117.00, 39, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(21, 4, '2025-07-14', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 6.15, 0.25, 6.40, 111, 'envio_paqueteria', '', '', 4, NULL, 0.00, 0.00, NULL),
(22, 6, '2025-07-14', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 1140.29, 45.61, 1185.90, 30, 'envio_paqueteria', 'TYPSA', '11123', 1, NULL, 0.00, 0.00, NULL),
(23, 7, '2025-07-14', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 567.31, 22.69, 590.00, 29, 'envio_paqueteria', '', '', 1, NULL, 0.00, 0.00, NULL),
(24, 6, '2025-07-14', 'completado', 1, 0.00, 40.00, '', NULL, 0.00, 611.44, 24.46, 635.90, 96, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(25, 4, '2025-07-14', 'completado', NULL, 0.00, 15.00, '', NULL, 0.00, 45.19, 1.81, 47.00, 33, 'envio_paqueteria', '', '', 2, NULL, 0.00, 0.00, NULL),
(26, 3, '2025-07-14', 'completado', NULL, 0.00, 10.00, '', NULL, 0.00, 32.12, 1.28, 33.40, 32, 'envio_paqueteria', '', '', 2, NULL, 0.00, 0.00, NULL),
(27, 14, '2025-07-14', 'completado', NULL, 0.00, 10.00, '', NULL, 0.00, 17.88, 0.72, 18.60, 31, 'envio_paqueteria', '', '', 2, NULL, 0.00, 0.00, NULL),
(29, 14, '2025-07-14', 'completado', 1, 10.00, 20.00, '', NULL, 0.00, 283.65, 11.35, 295.00, 40, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 50.00, NULL),
(30, 14, '2025-07-14', 'completado', 1, 10.00, 0.00, NULL, NULL, 0.00, 264.42, 10.58, 275.00, 124, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(31, 3, '2025-07-15', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 127, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(32, 14, '2025-07-15', 'completado', 1, 10.00, 0.00, NULL, NULL, 0.00, 264.42, 10.58, 275.00, 119, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(33, 6, '2025-07-15', 'pendiente', 1, 10.00, 0.00, '', NULL, 0.00, 264.42, 10.58, 275.00, 44, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(34, 7, '2025-07-15', 'pendiente', 1, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 45, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(35, 7, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 134, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(36, 6, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 11.35, 0.45, 11.80, 135, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 2.00, NULL),
(37, 7, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 136, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(38, 6, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 137, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(39, 7, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 112.50, 4.50, 117.00, 126, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(40, 3, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 22.50, 0.90, 23.40, 123, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(41, 7, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 22.50, 0.90, 23.40, 118, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(42, 6, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 112.50, 4.50, 117.00, 69, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(43, 14, '2025-07-16', 'pendiente', 1, 0.00, 0.00, '', NULL, 0.00, 41.35, 1.65, 43.00, 42, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(44, 13, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 41.35, 1.65, 43.00, 43, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 5.00, NULL),
(45, 14, '2025-07-16', 'pendiente', 1, 10.00, 0.00, '', NULL, 0.00, 274.06, 10.94, 285.00, 46, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(46, 4, '2025-07-16', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 20.67, 0.83, 21.50, 41, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 2.50, NULL),
(47, 14, '2025-07-16', 'completado', 1, 10.00, 0.00, NULL, NULL, 0.00, 45.19, 1.81, 47.00, 112, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(48, 14, '2025-07-16', 'completado', 1, 30.40, 0.00, NULL, NULL, 0.00, 105.77, 4.23, 110.00, 113, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(49, 14, '2025-07-17', 'completado', 1, 10.00, 0.00, NULL, NULL, 0.00, 182.21, 7.29, 189.50, 114, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(50, 14, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 47, 'envio_paqueteria', 'TYPSA', '11123', 3, NULL, 0.00, 0.00, NULL),
(51, 4, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 30.77, 1.23, 32.00, 133, 'envio_paqueteria', '', '', 5, NULL, 0.00, 0.00, NULL),
(52, 6, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 112.50, 4.50, 117.00, 132, 'envio_paqueteria', '', '', 5, NULL, 0.00, 0.00, NULL),
(53, 4, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 11.35, 0.45, 11.80, 131, 'envio_paqueteria', '', '', 5, NULL, 0.00, 2.00, NULL),
(54, 3, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 112.50, 4.50, 117.00, 130, 'envio_paqueteria', '', '', 5, NULL, 0.00, 0.00, NULL),
(55, 4, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 27.40, 1.10, 28.50, 129, 'envio_paqueteria', '', '', 5, NULL, 0.00, 5.00, NULL),
(56, 4, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 54.81, 2.19, 57.00, 125, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(57, 14, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 112.50, 4.50, 117.00, 75, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(58, 14, '2025-07-17', 'completado', NULL, 5.50, 0.00, '', NULL, 0.00, 76.92, 3.08, 80.00, 71, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(59, 14, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 6.15, 0.25, 6.40, 106, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(60, 14, '2025-07-17', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 112.50, 4.50, 117.00, 74, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(61, 14, '2025-07-18', 'completado', NULL, 10.00, 0.00, '', NULL, 0.00, 21.15, 0.85, 22.00, 70, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(62, 16, '2025-07-18', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 60, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 50.00, NULL),
(63, 16, '2025-07-18', 'completado', NULL, 5.00, 0.00, '', NULL, 0.00, 17.69, 0.71, 18.40, 61, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 4.00, NULL),
(64, 16, '2025-07-18', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 5.67, 0.23, 5.90, 87, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(65, 16, '2025-07-18', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 11.25, 0.45, 11.70, 62, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(66, 16, '2025-07-18', 'completado', NULL, 10.00, 10.00, '', NULL, 0.00, 5.67, 0.23, 5.90, 88, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(67, 16, '2025-07-18', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 4.13, 0.17, 4.30, 89, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(68, 16, '2025-07-18', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 22.50, 0.90, 23.40, 65, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(69, 16, '2025-07-18', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 30.77, 1.23, 32.00, 66, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(70, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 82.21, 3.29, 85.50, 110, 'entrega_en_molino', NULL, NULL, 4, NULL, 0.00, 0.00, NULL),
(71, 14, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 6.15, 0.25, 6.40, 107, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(72, 17, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 3.08, 0.12, 3.20, 105, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(73, 3, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 37.21, 1.49, 38.70, 104, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 4.50, NULL),
(74, 4, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 307.69, 12.31, 320.00, 80, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(76, 4, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Pedido pendiente de servir (Origen: Pedido #75)', NULL, 0.00, 0.00, 0.00, 0.00, 83, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(77, 3, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 413.46, 16.54, 430.00, 81, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(78, 3, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Pedido pendiente de servir (Origen: Pedido #77)', NULL, 0.00, 15.38, 0.62, 16.00, 82, 'entrega_en_molino', NULL, NULL, NULL, 77, 0.00, 0.00, NULL),
(79, 14, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 6.15, 0.25, 6.40, 90, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(80, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 24.62, 0.98, 25.60, 92, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(81, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 6.15, 0.25, 6.40, 94, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(82, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 81. ', 81, 0.00, 9.23, 0.37, 9.60, 103, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(83, 14, '2025-07-19', 'completado', 1, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 47. ', 47, 0.00, 274.04, 10.96, 285.00, 121, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(84, 14, '2025-07-19', 'completado', 1, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 48. ', 48, 0.00, 191.83, 7.67, 199.50, 122, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(85, 4, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 78.56, 3.14, 81.70, 97, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(86, 4, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 85. ', 85, 0.00, 4.13, 0.17, 4.30, 102, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(87, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 30.77, 1.23, 32.00, 101, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(88, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 87. ', 87, 0.00, 61.54, 2.46, 64.00, 100, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(89, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 88. Backorder generado automáticamente del pedido original ID: 87.', 88, 0.00, 30.77, 1.23, 32.00, 98, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(90, 7, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 89. Backorder generado automáticamente del pedido original ID: 88. Backorder generado automáticamente del pedido original ID: 87. ', 89, 0.00, 30.77, 1.23, 32.00, 99, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(91, 3, '2025-07-19', 'completado', NULL, 0.00, 0.00, 'Backorder generado automáticamente del pedido original ID: 73. ', 73, 0.00, 4.13, 0.17, 4.30, 109, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(92, 12, '2025-07-20', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 328.85, 13.15, 342.00, 115, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(93, 13, '2025-07-20', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 16.54, 0.66, 17.20, 116, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(94, 11, '2025-07-20', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 109.62, 4.38, 114.00, 117, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(95, 3, '2025-07-20', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 15.38, 0.62, 16.00, 120, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.00, NULL),
(96, 17, '2025-07-20', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 598.08, 23.92, 622.00, 128, 'entrega_en_molino', NULL, NULL, NULL, NULL, 102.00, 110.00, NULL),
(97, 3, '2025-07-20', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 56.25, 2.25, 58.50, 138, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 10.00, NULL),
(98, 3, '2025-07-20', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 68.08, 2.72, 70.80, 139, 'envio_paqueteria', 'TYPSA', 'https://dinapaqweb.tipsa-dinapaq.com/dinapaqweb/detalle_envio.php?servicio=DD1B9B6A-E286-4FA8-9377-DA53AE238097&fecha=08/07/2025', 6, NULL, 0.00, 12.00, NULL),
(99, 17, '2025-07-20', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 46.15, 1.85, 48.00, 140, 'entrega_en_molino', NULL, NULL, 7, NULL, 0.00, 15.00, NULL),
(100, 7, '2025-07-20', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 54.81, 2.19, 57.00, 143, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 10.00, 1),
(101, 17, '2025-07-20', 'completado', 1, 0.00, 0.00, '', NULL, 0.00, 153.85, 6.15, 160.00, 149, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 50.00, NULL),
(102, 7, '2025-07-20', 'completado', 1, 10.00, 0.00, '', NULL, 0.00, 102.88, 4.12, 107.00, 150, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 20.00, 3),
(103, 17, '2025-07-20', 'completado', 1, 2.00, 0.00, '', NULL, 0.00, 375.00, 15.00, 390.00, 151, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 72.50, NULL),
(104, 7, '2025-07-20', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 4.13, 0.17, 4.30, 142, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 0.50, 4),
(105, 7, '2025-07-20', 'completado', NULL, 0.00, 0.00, '', NULL, 0.00, 5.67, 0.23, 5.90, 145, 'entrega_en_molino', NULL, NULL, NULL, NULL, 0.00, 1.00, 4),
(106, 7, '2025-07-20', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 30.77, 1.23, 32.00, 146, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 10.00, 5),
(107, 7, '2025-07-20', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 54.81, 2.19, 57.00, 147, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 10.00, 4),
(108, 4, '2025-07-21', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 274.04, 10.96, 285.00, 148, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 50.00, NULL),
(109, 7, '2025-07-22', 'completado', 1, 14.50, 0.00, '', NULL, 0.00, 288.46, 11.54, 300.00, 152, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 55.00, 4),
(110, 7, '2025-07-22', 'completado', 3, 6.00, 0.00, '', NULL, 0.00, 134.62, 5.38, 140.00, 153, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 30.00, 5),
(111, 9, '2025-07-22', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 80.38, 3.22, 83.60, 154, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 11.00, NULL),
(112, 18, '2025-07-24', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 109.62, 4.38, 114.00, 155, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 20.00, 6),
(113, 18, '2025-07-24', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 109.62, 4.38, 114.00, 156, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 20.00, 7),
(114, 18, '2025-07-24', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 109.62, 4.38, 114.00, 157, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 20.00, 8),
(115, 18, '2025-07-24', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 54.81, 2.19, 57.00, 158, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 10.00, 9),
(116, 18, '2025-07-24', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 520.67, 20.83, 541.50, 159, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 95.00, 10),
(117, 18, '2025-07-24', 'completado', 3, 0.00, 0.00, '', NULL, 0.00, 109.62, 4.38, 114.00, 160, 'reparto_propio', NULL, NULL, NULL, NULL, 0.00, 20.00, 11);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `productos`
--

CREATE TABLE `productos` (
  `id_producto` int(11) NOT NULL,
  `nombre_producto` varchar(255) NOT NULL COMMENT 'Ej: Aceite de Oliva Virgen Extra Botella 1L Cristal',
  `id_articulo` int(11) NOT NULL,
  `litros_por_unidad` decimal(10,2) NOT NULL COMMENT 'Formato en litros por cada unidad de este producto (ej. 5.00 para 5L)',
  `precio_venta` decimal(10,2) NOT NULL DEFAULT 0.00,
  `stock_actual_unidades` int(11) NOT NULL DEFAULT 0 COMMENT 'Stock actual de unidades de este producto final',
  `porcentaje_iva_actual` decimal(5,2) NOT NULL DEFAULT 0.00 COMMENT 'Porcentaje de IVA actual aplicable al producto.'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `productos`
--

INSERT INTO `productos` (`id_producto`, `nombre_producto`, `id_articulo`, `litros_por_unidad`, `precio_venta`, `stock_actual_unidades`, `porcentaje_iva_actual`) VALUES
(1, 'AOVE 5 L PET', 2, 5.00, 28.50, 214, 4.00),
(2, 'AOVE 2L PET', 2, 2.00, 11.70, 45, 4.00),
(3, 'AOVE 1L PET', 2, 1.00, 5.90, 45, 4.00),
(4, 'AOVE 500 ml PET', 2, 0.50, 3.20, 46, 4.00),
(5, 'AOVE 500 ml CRISTAL', 2, 0.50, 4.30, 82, 4.00),
(6, 'AO 5L PET', 3, 5.00, 28.50, 34, 4.00),
(7, 'AOO 5L PET', 4, 5.00, 16.00, 45, 4.00);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `proveedores`
--

CREATE TABLE `proveedores` (
  `id_proveedor` int(11) NOT NULL,
  `nombre_proveedor` varchar(255) NOT NULL,
  `contacto_persona` varchar(100) DEFAULT NULL,
  `contacto` varchar(255) DEFAULT NULL,
  `telefono` varchar(20) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `direccion` varchar(255) DEFAULT NULL,
  `cif_nif` varchar(20) DEFAULT NULL,
  `observaciones` text DEFAULT NULL,
  `latitud` decimal(10,7) DEFAULT NULL,
  `longitud` decimal(10,7) DEFAULT NULL,
  `direccion_google_maps` varchar(255) DEFAULT NULL,
  `fecha_alta` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `proveedores`
--

INSERT INTO `proveedores` (`id_proveedor`, `nombre_proveedor`, `contacto_persona`, `contacto`, `telefono`, `email`, `direccion`, `cif_nif`, `observaciones`, `latitud`, `longitud`, `direccion_google_maps`, `fecha_alta`) VALUES
(1, 'MOLINO DE ESPERA', 'DOMINGO VEGA', 'Juan Pérez', '607720137', 'elmolinodeespera@gmail.com', 'c/veracruz 25 11648 Espera (Cadiz)', '', '', 36.8698556, -5.8068993, 'C. Veracruz, 25, 11648 Espera, Cádiz, España', '2025-06-28 15:52:22'),
(2, 'MIGASA ACEITES, S.L.U.', 'Pepe Roman', 'María García', '954720550', 'AICA@MIGASA.ES', 'CTRA. MADRID CADIZ KM 556  41700 DOS HERMANAS (SEVILLA)', 'B91950253', '', 37.2864406, -5.9240958, 'Dos Hermanas, Sevilla, España', '2025-06-28 15:52:22'),
(3, 'Refinería La Vega', NULL, 'Carlos Ruiz', '950555111', 'carlos.ruiz@refinerialavega.es', NULL, NULL, NULL, NULL, NULL, NULL, '2025-06-28 15:52:22');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `roles`
--

CREATE TABLE `roles` (
  `id_role` int(11) NOT NULL,
  `role_name` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `roles`
--

INSERT INTO `roles` (`id_role`, `role_name`) VALUES
(1, 'Administrador'),
(2, 'Bodega'),
(4, 'Tesoreria'),
(5, 'Usuario'),
(3, 'Ventas');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `rutas`
--

CREATE TABLE `rutas` (
  `id_ruta` int(11) NOT NULL,
  `nombre_ruta` varchar(255) NOT NULL,
  `descripcion` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `rutas`
--

INSERT INTO `rutas` (`id_ruta`, `nombre_ruta`, `descripcion`) VALUES
(1, 'Sevilla Capital', 'Ruta de reparto para la ciudad de Sevilla'),
(2, 'Aljarafe', 'Ruta de reparto para la comarca del Aljarafe (Sevilla)'),
(3, 'Jerez y Cádiz', 'Ruta de reparto para Jerez de la Frontera y Cádiz capital'),
(4, 'Huelva y Costa', 'Ruta de reparto para Huelva y la costa onubense');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `trasvases`
--

CREATE TABLE `trasvases` (
  `id_trasvase` int(11) NOT NULL,
  `fecha_trasvase` datetime DEFAULT current_timestamp(),
  `deposito_origen` int(11) NOT NULL,
  `deposito_destino` int(11) NOT NULL,
  `litros_trasvasados` decimal(10,2) NOT NULL,
  `tipo_trasvase` enum('filtrado','trasiego','preparacion_lote') NOT NULL,
  `observaciones` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `trasvases`
--

INSERT INTO `trasvases` (`id_trasvase`, `fecha_trasvase`, `deposito_origen`, `deposito_destino`, `litros_trasvasados`, `tipo_trasvase`, `observaciones`) VALUES
(1, '2025-07-10 00:00:00', 1, 7, 6000.00, 'trasiego', '');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `usuarios`
--

CREATE TABLE `usuarios` (
  `id_user` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `id_role` int(11) NOT NULL,
  `email` varchar(100) DEFAULT NULL,
  `nombre_completo` varchar(100) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `last_login` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `usuarios`
--

INSERT INTO `usuarios` (`id_user`, `username`, `password_hash`, `id_role`, `email`, `nombre_completo`, `created_at`, `last_login`) VALUES
(1, 'admin', '$2y$10$eHYhtr.RXJ75vmfRwT9eN.bOKHo3qGBKI7/.kpXvef0DuijKnjYpO', 1, 'admin@example.com', 'Administrador', '2025-06-28 08:51:52', '2025-07-31 19:32:19'),
(2, 'Luis', '$2y$10$mjQpenR68PMwXXyTQU4bneb/m6Wv2MJc/E/nWs2OfCFB17QaShNNK', 3, 'luis@gmail.com', 'Luis Jurado Jimenez', '2025-07-07 20:09:26', '2025-07-07 22:09:52');

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `actividad_envasado`
--
ALTER TABLE `actividad_envasado`
  ADD PRIMARY KEY (`id_actividad_envasado`);

--
-- Indices de la tabla `articulos`
--
ALTER TABLE `articulos`
  ADD PRIMARY KEY (`id_articulo`),
  ADD UNIQUE KEY `nombre_articulo` (`nombre_articulo`);

--
-- Indices de la tabla `asignacion_lotes_ventas`
--
ALTER TABLE `asignacion_lotes_ventas`
  ADD PRIMARY KEY (`id_asignacion`),
  ADD KEY `fk_asignacion_to_detalle_factura` (`id_detalle_factura`),
  ADD KEY `fk_asignacion_to_detalle_actividad` (`id_detalle_actividad`);

--
-- Indices de la tabla `clientes`
--
ALTER TABLE `clientes`
  ADD PRIMARY KEY (`id_cliente`);

--
-- Indices de la tabla `cobros_factura`
--
ALTER TABLE `cobros_factura`
  ADD PRIMARY KEY (`id_cobro`),
  ADD KEY `id_factura` (`id_factura`),
  ADD KEY `id_forma_pago` (`id_forma_pago`);

--
-- Indices de la tabla `cuadres_caja`
--
ALTER TABLE `cuadres_caja`
  ADD PRIMARY KEY (`id_cuadre`),
  ADD UNIQUE KEY `fecha_cuadre` (`fecha_cuadre`);

--
-- Indices de la tabla `depositos`
--
ALTER TABLE `depositos`
  ADD PRIMARY KEY (`id_deposito`),
  ADD UNIQUE KEY `nombre_deposito` (`nombre_deposito`),
  ADD KEY `fk_depositos_materia_prima` (`id_materia_prima`),
  ADD KEY `fk_depositos_entrada_granel` (`id_entrada_granel_origen`);

--
-- Indices de la tabla `detalle_actividad_envasado`
--
ALTER TABLE `detalle_actividad_envasado`
  ADD PRIMARY KEY (`id_detalle_actividad`),
  ADD KEY `id_actividad_envasado` (`id_actividad_envasado`),
  ADD KEY `id_lote_envasado` (`id_lote_envasado`),
  ADD KEY `fk_detalle_producto` (`id_producto`);

--
-- Indices de la tabla `detalle_entrada_granel`
--
ALTER TABLE `detalle_entrada_granel`
  ADD PRIMARY KEY (`id_detalle_entrada`),
  ADD KEY `id_entrada_granel` (`id_entrada_granel`),
  ADD KEY `id_deposito` (`id_deposito`);

--
-- Indices de la tabla `detalle_factura_ventas`
--
ALTER TABLE `detalle_factura_ventas`
  ADD PRIMARY KEY (`id_detalle_factura`),
  ADD KEY `id_factura` (`id_factura`),
  ADD KEY `fk_detalle_ventas_to_productos` (`id_producto`);

--
-- Indices de la tabla `detalle_lotes_envasado`
--
ALTER TABLE `detalle_lotes_envasado`
  ADD PRIMARY KEY (`id_detalle_lote`),
  ADD KEY `id_lote_envasado` (`id_lote_envasado`),
  ADD KEY `id_deposito_origen` (`id_deposito_origen`);

--
-- Indices de la tabla `detalle_pedidos`
--
ALTER TABLE `detalle_pedidos`
  ADD PRIMARY KEY (`id_detalle_pedido`),
  ADD KEY `id_pedido` (`id_pedido`),
  ADD KEY `id_producto` (`id_producto`);

--
-- Indices de la tabla `direcciones_envio`
--
ALTER TABLE `direcciones_envio`
  ADD PRIMARY KEY (`id_direccion_envio`),
  ADD KEY `id_cliente` (`id_cliente`);

--
-- Indices de la tabla `entradas_granel`
--
ALTER TABLE `entradas_granel`
  ADD PRIMARY KEY (`id_entrada_granel`),
  ADD KEY `id_proveedor` (`id_proveedor`),
  ADD KEY `id_materia_prima` (`id_materia_prima`);

--
-- Indices de la tabla `facturas_ventas`
--
ALTER TABLE `facturas_ventas`
  ADD PRIMARY KEY (`id_factura`),
  ADD KEY `id_cliente` (`id_cliente`),
  ADD KEY `fk_facturas_ventas_partes_ruta` (`id_parte_ruta_origen`);

--
-- Indices de la tabla `formas_pago`
--
ALTER TABLE `formas_pago`
  ADD PRIMARY KEY (`id_forma_pago`),
  ADD UNIQUE KEY `nombre_forma_pago` (`nombre_forma_pago`);

--
-- Indices de la tabla `lotes_envasado`
--
ALTER TABLE `lotes_envasado`
  ADD PRIMARY KEY (`id_lote_envasado`),
  ADD UNIQUE KEY `nombre_lote` (`nombre_lote`),
  ADD KEY `id_deposito_mezcla` (`id_deposito_mezcla`),
  ADD KEY `id_articulo` (`id_articulo`);

--
-- Indices de la tabla `materias_primas`
--
ALTER TABLE `materias_primas`
  ADD PRIMARY KEY (`id_materia_prima`),
  ADD UNIQUE KEY `nombre_materia_prima` (`nombre_materia_prima`);

--
-- Indices de la tabla `movimientos_caja_varios`
--
ALTER TABLE `movimientos_caja_varios`
  ADD PRIMARY KEY (`id_movimiento`);

--
-- Indices de la tabla `partes_paqueteria`
--
ALTER TABLE `partes_paqueteria`
  ADD PRIMARY KEY (`id_parte_paqueteria`);

--
-- Indices de la tabla `partes_paqueteria_pedidos`
--
ALTER TABLE `partes_paqueteria_pedidos`
  ADD PRIMARY KEY (`id_parte_paqueteria_pedido`),
  ADD UNIQUE KEY `id_parte_paqueteria` (`id_parte_paqueteria`,`id_pedido`),
  ADD KEY `id_pedido` (`id_pedido`);

--
-- Indices de la tabla `partes_ruta`
--
ALTER TABLE `partes_ruta`
  ADD PRIMARY KEY (`id_parte_ruta`),
  ADD KEY `id_ruta` (`id_ruta`);

--
-- Indices de la tabla `partes_ruta_detalle`
--
ALTER TABLE `partes_ruta_detalle`
  ADD PRIMARY KEY (`id_parte_ruta_detalle`),
  ADD KEY `id_parte_ruta` (`id_parte_ruta`),
  ADD KEY `id_pedido` (`id_pedido`);

--
-- Indices de la tabla `partes_ruta_pedidos`
--
ALTER TABLE `partes_ruta_pedidos`
  ADD PRIMARY KEY (`id_parte_ruta_pedido`),
  ADD UNIQUE KEY `idx_unique_parte_pedido` (`id_parte_ruta`,`id_pedido`),
  ADD UNIQUE KEY `unique_parte_pedido` (`id_parte_ruta`,`id_pedido`),
  ADD KEY `fk_partes_ruta_pedidos_pedido` (`id_pedido`);

--
-- Indices de la tabla `pedidos`
--
ALTER TABLE `pedidos`
  ADD PRIMARY KEY (`id_pedido`),
  ADD KEY `id_cliente` (`id_cliente`),
  ADD KEY `id_ruta` (`id_ruta`),
  ADD KEY `fk_pedidos_facturas_ventas` (`id_factura_asociada`),
  ADD KEY `fk_pedidos_parte_paqueteria` (`id_parte_paqueteria_asociada`),
  ADD KEY `fk_pedidos_origen_backorder` (`id_pedido_origen_backorder`),
  ADD KEY `fk_pedido_direccion_envio` (`id_direccion_envio`);

--
-- Indices de la tabla `productos`
--
ALTER TABLE `productos`
  ADD PRIMARY KEY (`id_producto`),
  ADD UNIQUE KEY `idx_nombre_producto_unique` (`nombre_producto`),
  ADD KEY `fk_productos_articulo` (`id_articulo`);

--
-- Indices de la tabla `proveedores`
--
ALTER TABLE `proveedores`
  ADD PRIMARY KEY (`id_proveedor`),
  ADD UNIQUE KEY `cif_nif` (`cif_nif`);

--
-- Indices de la tabla `roles`
--
ALTER TABLE `roles`
  ADD PRIMARY KEY (`id_role`),
  ADD UNIQUE KEY `role_name` (`role_name`);

--
-- Indices de la tabla `rutas`
--
ALTER TABLE `rutas`
  ADD PRIMARY KEY (`id_ruta`),
  ADD UNIQUE KEY `nombre_ruta` (`nombre_ruta`);

--
-- Indices de la tabla `trasvases`
--
ALTER TABLE `trasvases`
  ADD PRIMARY KEY (`id_trasvase`),
  ADD KEY `deposito_origen` (`deposito_origen`),
  ADD KEY `deposito_destino` (`deposito_destino`);

--
-- Indices de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  ADD PRIMARY KEY (`id_user`),
  ADD UNIQUE KEY `username` (`username`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `fk_usuarios_role` (`id_role`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `actividad_envasado`
--
ALTER TABLE `actividad_envasado`
  MODIFY `id_actividad_envasado` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=26;

--
-- AUTO_INCREMENT de la tabla `articulos`
--
ALTER TABLE `articulos`
  MODIFY `id_articulo` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT de la tabla `asignacion_lotes_ventas`
--
ALTER TABLE `asignacion_lotes_ventas`
  MODIFY `id_asignacion` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=176;

--
-- AUTO_INCREMENT de la tabla `clientes`
--
ALTER TABLE `clientes`
  MODIFY `id_cliente` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=19;

--
-- AUTO_INCREMENT de la tabla `cobros_factura`
--
ALTER TABLE `cobros_factura`
  MODIFY `id_cobro` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=133;

--
-- AUTO_INCREMENT de la tabla `cuadres_caja`
--
ALTER TABLE `cuadres_caja`
  MODIFY `id_cuadre` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT de la tabla `depositos`
--
ALTER TABLE `depositos`
  MODIFY `id_deposito` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=17;

--
-- AUTO_INCREMENT de la tabla `detalle_actividad_envasado`
--
ALTER TABLE `detalle_actividad_envasado`
  MODIFY `id_detalle_actividad` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=45;

--
-- AUTO_INCREMENT de la tabla `detalle_entrada_granel`
--
ALTER TABLE `detalle_entrada_granel`
  MODIFY `id_detalle_entrada` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=10;

--
-- AUTO_INCREMENT de la tabla `detalle_factura_ventas`
--
ALTER TABLE `detalle_factura_ventas`
  MODIFY `id_detalle_factura` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=179;

--
-- AUTO_INCREMENT de la tabla `detalle_lotes_envasado`
--
ALTER TABLE `detalle_lotes_envasado`
  MODIFY `id_detalle_lote` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT de la tabla `detalle_pedidos`
--
ALTER TABLE `detalle_pedidos`
  MODIFY `id_detalle_pedido` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=155;

--
-- AUTO_INCREMENT de la tabla `direcciones_envio`
--
ALTER TABLE `direcciones_envio`
  MODIFY `id_direccion_envio` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;

--
-- AUTO_INCREMENT de la tabla `entradas_granel`
--
ALTER TABLE `entradas_granel`
  MODIFY `id_entrada_granel` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=55;

--
-- AUTO_INCREMENT de la tabla `facturas_ventas`
--
ALTER TABLE `facturas_ventas`
  MODIFY `id_factura` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=161;

--
-- AUTO_INCREMENT de la tabla `formas_pago`
--
ALTER TABLE `formas_pago`
  MODIFY `id_forma_pago` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT de la tabla `lotes_envasado`
--
ALTER TABLE `lotes_envasado`
  MODIFY `id_lote_envasado` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=29;

--
-- AUTO_INCREMENT de la tabla `materias_primas`
--
ALTER TABLE `materias_primas`
  MODIFY `id_materia_prima` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT de la tabla `movimientos_caja_varios`
--
ALTER TABLE `movimientos_caja_varios`
  MODIFY `id_movimiento` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT de la tabla `partes_paqueteria`
--
ALTER TABLE `partes_paqueteria`
  MODIFY `id_parte_paqueteria` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT de la tabla `partes_paqueteria_pedidos`
--
ALTER TABLE `partes_paqueteria_pedidos`
  MODIFY `id_parte_paqueteria_pedido` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=18;

--
-- AUTO_INCREMENT de la tabla `partes_ruta`
--
ALTER TABLE `partes_ruta`
  MODIFY `id_parte_ruta` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=27;

--
-- AUTO_INCREMENT de la tabla `partes_ruta_detalle`
--
ALTER TABLE `partes_ruta_detalle`
  MODIFY `id_parte_ruta_detalle` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT de la tabla `partes_ruta_pedidos`
--
ALTER TABLE `partes_ruta_pedidos`
  MODIFY `id_parte_ruta_pedido` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=92;

--
-- AUTO_INCREMENT de la tabla `pedidos`
--
ALTER TABLE `pedidos`
  MODIFY `id_pedido` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=118;

--
-- AUTO_INCREMENT de la tabla `productos`
--
ALTER TABLE `productos`
  MODIFY `id_producto` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT de la tabla `proveedores`
--
ALTER TABLE `proveedores`
  MODIFY `id_proveedor` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT de la tabla `roles`
--
ALTER TABLE `roles`
  MODIFY `id_role` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT de la tabla `rutas`
--
ALTER TABLE `rutas`
  MODIFY `id_ruta` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT de la tabla `trasvases`
--
ALTER TABLE `trasvases`
  MODIFY `id_trasvase` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  MODIFY `id_user` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `asignacion_lotes_ventas`
--
ALTER TABLE `asignacion_lotes_ventas`
  ADD CONSTRAINT `fk_asignacion_to_detalle_actividad` FOREIGN KEY (`id_detalle_actividad`) REFERENCES `detalle_actividad_envasado` (`id_detalle_actividad`) ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_asignacion_to_detalle_factura` FOREIGN KEY (`id_detalle_factura`) REFERENCES `detalle_factura_ventas` (`id_detalle_factura`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `cobros_factura`
--
ALTER TABLE `cobros_factura`
  ADD CONSTRAINT `cobros_factura_ibfk_1` FOREIGN KEY (`id_factura`) REFERENCES `facturas_ventas` (`id_factura`),
  ADD CONSTRAINT `cobros_factura_ibfk_2` FOREIGN KEY (`id_forma_pago`) REFERENCES `formas_pago` (`id_forma_pago`);

--
-- Filtros para la tabla `depositos`
--
ALTER TABLE `depositos`
  ADD CONSTRAINT `fk_depositos_entrada_granel` FOREIGN KEY (`id_entrada_granel_origen`) REFERENCES `entradas_granel` (`id_entrada_granel`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_depositos_materia_prima` FOREIGN KEY (`id_materia_prima`) REFERENCES `materias_primas` (`id_materia_prima`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Filtros para la tabla `detalle_actividad_envasado`
--
ALTER TABLE `detalle_actividad_envasado`
  ADD CONSTRAINT `detalle_actividad_envasado_ibfk_1` FOREIGN KEY (`id_actividad_envasado`) REFERENCES `actividad_envasado` (`id_actividad_envasado`) ON UPDATE CASCADE,
  ADD CONSTRAINT `detalle_actividad_envasado_ibfk_2` FOREIGN KEY (`id_lote_envasado`) REFERENCES `lotes_envasado` (`id_lote_envasado`) ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_detalle_producto` FOREIGN KEY (`id_producto`) REFERENCES `productos` (`id_producto`) ON UPDATE CASCADE;

--
-- Filtros para la tabla `detalle_entrada_granel`
--
ALTER TABLE `detalle_entrada_granel`
  ADD CONSTRAINT `detalle_entrada_granel_ibfk_1` FOREIGN KEY (`id_entrada_granel`) REFERENCES `entradas_granel` (`id_entrada_granel`),
  ADD CONSTRAINT `detalle_entrada_granel_ibfk_2` FOREIGN KEY (`id_deposito`) REFERENCES `depositos` (`id_deposito`);

--
-- Filtros para la tabla `detalle_factura_ventas`
--
ALTER TABLE `detalle_factura_ventas`
  ADD CONSTRAINT `detalle_factura_ventas_ibfk_1` FOREIGN KEY (`id_factura`) REFERENCES `facturas_ventas` (`id_factura`),
  ADD CONSTRAINT `fk_detalle_ventas_to_productos` FOREIGN KEY (`id_producto`) REFERENCES `productos` (`id_producto`) ON UPDATE CASCADE;

--
-- Filtros para la tabla `detalle_lotes_envasado`
--
ALTER TABLE `detalle_lotes_envasado`
  ADD CONSTRAINT `detalle_lotes_envasado_ibfk_1` FOREIGN KEY (`id_lote_envasado`) REFERENCES `lotes_envasado` (`id_lote_envasado`),
  ADD CONSTRAINT `detalle_lotes_envasado_ibfk_2` FOREIGN KEY (`id_deposito_origen`) REFERENCES `depositos` (`id_deposito`);

--
-- Filtros para la tabla `detalle_pedidos`
--
ALTER TABLE `detalle_pedidos`
  ADD CONSTRAINT `fk_detalle_pedido_pedido` FOREIGN KEY (`id_pedido`) REFERENCES `pedidos` (`id_pedido`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_detalle_pedido_producto` FOREIGN KEY (`id_producto`) REFERENCES `productos` (`id_producto`) ON UPDATE CASCADE;

--
-- Filtros para la tabla `direcciones_envio`
--
ALTER TABLE `direcciones_envio`
  ADD CONSTRAINT `direcciones_envio_ibfk_1` FOREIGN KEY (`id_cliente`) REFERENCES `clientes` (`id_cliente`) ON DELETE CASCADE;

--
-- Filtros para la tabla `entradas_granel`
--
ALTER TABLE `entradas_granel`
  ADD CONSTRAINT `entradas_granel_ibfk_1` FOREIGN KEY (`id_proveedor`) REFERENCES `proveedores` (`id_proveedor`),
  ADD CONSTRAINT `entradas_granel_ibfk_2` FOREIGN KEY (`id_materia_prima`) REFERENCES `materias_primas` (`id_materia_prima`);

--
-- Filtros para la tabla `facturas_ventas`
--
ALTER TABLE `facturas_ventas`
  ADD CONSTRAINT `facturas_ventas_ibfk_1` FOREIGN KEY (`id_cliente`) REFERENCES `clientes` (`id_cliente`),
  ADD CONSTRAINT `fk_facturas_ventas_partes_ruta` FOREIGN KEY (`id_parte_ruta_origen`) REFERENCES `partes_ruta` (`id_parte_ruta`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Filtros para la tabla `lotes_envasado`
--
ALTER TABLE `lotes_envasado`
  ADD CONSTRAINT `lotes_envasado_ibfk_1` FOREIGN KEY (`id_deposito_mezcla`) REFERENCES `depositos` (`id_deposito`),
  ADD CONSTRAINT `lotes_envasado_ibfk_2` FOREIGN KEY (`id_articulo`) REFERENCES `articulos` (`id_articulo`);

--
-- Filtros para la tabla `partes_paqueteria_pedidos`
--
ALTER TABLE `partes_paqueteria_pedidos`
  ADD CONSTRAINT `partes_paqueteria_pedidos_ibfk_1` FOREIGN KEY (`id_parte_paqueteria`) REFERENCES `partes_paqueteria` (`id_parte_paqueteria`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `partes_paqueteria_pedidos_ibfk_2` FOREIGN KEY (`id_pedido`) REFERENCES `pedidos` (`id_pedido`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `partes_ruta`
--
ALTER TABLE `partes_ruta`
  ADD CONSTRAINT `partes_ruta_ibfk_1` FOREIGN KEY (`id_ruta`) REFERENCES `rutas` (`id_ruta`) ON UPDATE CASCADE;

--
-- Filtros para la tabla `partes_ruta_detalle`
--
ALTER TABLE `partes_ruta_detalle`
  ADD CONSTRAINT `partes_ruta_detalle_ibfk_1` FOREIGN KEY (`id_parte_ruta`) REFERENCES `partes_ruta` (`id_parte_ruta`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `partes_ruta_detalle_ibfk_2` FOREIGN KEY (`id_pedido`) REFERENCES `pedidos` (`id_pedido`) ON UPDATE CASCADE;

--
-- Filtros para la tabla `partes_ruta_pedidos`
--
ALTER TABLE `partes_ruta_pedidos`
  ADD CONSTRAINT `fk_partes_ruta_pedidos_parte` FOREIGN KEY (`id_parte_ruta`) REFERENCES `partes_ruta` (`id_parte_ruta`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_partes_ruta_pedidos_pedido` FOREIGN KEY (`id_pedido`) REFERENCES `pedidos` (`id_pedido`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `pedidos`
--
ALTER TABLE `pedidos`
  ADD CONSTRAINT `fk_pedido_cliente` FOREIGN KEY (`id_cliente`) REFERENCES `clientes` (`id_cliente`) ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_pedido_direccion_envio` FOREIGN KEY (`id_direccion_envio`) REFERENCES `direcciones_envio` (`id_direccion_envio`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_pedido_ruta` FOREIGN KEY (`id_ruta`) REFERENCES `rutas` (`id_ruta`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_pedidos_facturas_ventas` FOREIGN KEY (`id_factura_asociada`) REFERENCES `facturas_ventas` (`id_factura`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_pedidos_origen_backorder` FOREIGN KEY (`id_pedido_origen_backorder`) REFERENCES `pedidos` (`id_pedido`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_pedidos_parte_paqueteria` FOREIGN KEY (`id_parte_paqueteria_asociada`) REFERENCES `partes_paqueteria` (`id_parte_paqueteria`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Filtros para la tabla `productos`
--
ALTER TABLE `productos`
  ADD CONSTRAINT `fk_productos_articulo` FOREIGN KEY (`id_articulo`) REFERENCES `articulos` (`id_articulo`) ON UPDATE CASCADE;

--
-- Filtros para la tabla `trasvases`
--
ALTER TABLE `trasvases`
  ADD CONSTRAINT `trasvases_ibfk_1` FOREIGN KEY (`deposito_origen`) REFERENCES `depositos` (`id_deposito`),
  ADD CONSTRAINT `trasvases_ibfk_2` FOREIGN KEY (`deposito_destino`) REFERENCES `depositos` (`id_deposito`);

--
-- Filtros para la tabla `usuarios`
--
ALTER TABLE `usuarios`
  ADD CONSTRAINT `fk_usuarios_role` FOREIGN KEY (`id_role`) REFERENCES `roles` (`id_role`) ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
